import"../chunks/CWj6FrbW.js";import{w as fe,c as N,f as y,a as c,a7 as J,b,ab as K,r as o,d as n,a3 as P,ae as G,U as m,t as O,ah as E,ag as te,ai as oe,bm as ne,s as ee,n as me,af as X,ad as ge,a8 as _e,B as pe,aa as be}from"../chunks/BKJL6YfG.js";import{l as D,s as F,p as A,a as ve,b as re}from"../chunks/B-WhYZDZ.js";import{p as we}from"../chunks/DVeIWuaj.js";import{o as ye}from"../chunks/DFUbiISE.js";import{i as L}from"../chunks/CX_YFbLR.js";import{e as ke,s as se}from"../chunks/BpKyf_Cv.js";import{c as ze}from"../chunks/CSW8TH0X.js";import{s as ae}from"../chunks/Dk1W01op.js";import"../chunks/DOky0DoK.js";import{I as q,s as B}from"../chunks/Cv8LfVAm.js";import{U as Pe}from"../chunks/ApxsD9uX.js";import{F as ce}from"../chunks/Cb1H4-Fo.js";import{t as ie}from"../chunks/CV0I_qeG.js";import{s as de}from"../chunks/CqXjdqoA.js";import{t as xe,s as $e}from"../chunks/BcoWetQX.js";import{b as Me}from"../chunks/1cUr6nmd.js";import{U as le}from"../chunks/D_oucVYi.js";import{l as Ne}from"../chunks/Cd8NlkRe.js";import{X as Se}from"../chunks/CdLs7B8i.js";function Ce(){const{subscribe:r,set:e,update:a}=fe(!1);return{subscribe:r,open:()=>e(!0),close:()=>e(!1),toggle:()=>a(i=>!i)}}const Z=Ce();function Oe(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];q(r,F({name:"layout-dashboard"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ue(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];q(r,F({name:"log-out"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ee(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];q(r,F({name:"menu"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ae(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];q(r,F({name:"moon"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Te(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];q(r,F({name:"settings"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Le(r,e){const a=D(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const i=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];q(r,F({name:"sun"},()=>a,{get iconNode(){return i},children:(d,u)=>{var t=N(),v=y(t);B(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}const Ie=[{name:"Dashboard",href:"/dashboard",icon:Oe},{name:"Clientes",href:"/clientes",icon:Pe},{name:"Pólizas",href:"/polizas",icon:ce}];var je=b('<span style="width: 20px; height: 20px; display: inline-block;" class="svelte-1mok3ed"></span>'),He=b('<a><!> <span class="svelte-1mok3ed"> </span></a>'),De=b('<nav class="sidebar-nav svelte-1mok3ed"></nav>');function ue(r,e){J(e,!0);var a=De();ke(a,21,()=>Ie,i=>i.href,(i,d)=>{const u=G(()=>P(d).icon);var t=He();let v;var p=n(t);{var f=h=>{var l=N(),s=y(l);ze(s,()=>P(u),(_,z)=>{z(_,{size:20})}),c(h,l)},g=h=>{var l=je();c(h,l)};L(p,h=>{P(u)?h(f):h(g,!1)})}var w=m(p,2),k=n(w,!0);o(w),o(t),O(h=>{se(t,"href",P(d).href),v=ae(t,1,"nav-item svelte-1mok3ed",null,v,h),E(k,P(d).name)},[()=>({active:e.currentPath.startsWith(P(d).href)})]),c(i,t)}),o(a),c(r,a),K()}function Fe(r){return--r*r*r*r*r+1}function qe(r,e){e(!e())}var Be=b("<div><!></div>"),Ve=b('<div><button type="button" class="dropdown-trigger svelte-x6k6te" aria-haspopup="true"><!></button> <!></div>');function We(r,e){J(e,!0);let a=A(e,"open",15,!1),i=A(e,"align",3,"right"),d=A(e,"position",3,"bottom"),u=A(e,"class",3,""),t;function v(s){a()&&t&&!t.contains(s.target)&&a(!1)}function p(s){s.key==="Escape"&&a()&&a(!1)}var f=Ve();oe("click",ne,v),oe("keydown",ne,p);var g=n(f);g.__click=[qe,a];var w=n(g);{var k=s=>{var _=N(),z=y(_);ee(z,()=>e.trigger),c(s,_)};L(w,s=>{e.trigger&&s(k)})}o(g);var h=m(g,2);{var l=s=>{var _=Be(),z=n(_);ee(z,()=>e.children??me),o(_),O(()=>ae(_,1,`dropdown-menu dropdown-menu-${i()??""} dropdown-menu-${d()??""}`,"svelte-x6k6te")),xe(3,_,()=>$e,()=>({duration:150,easing:Fe,start:.95,opacity:0})),c(s,_)};L(h,s=>{a()&&s(l)})}o(f),Me(f,s=>t=s,()=>t),O(()=>{ae(f,1,`dropdown ${u()??""}`,"svelte-x6k6te"),se(g,"aria-expanded",a())}),c(r,f),K()}te(["click"]);async function Xe(){try{const r=await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),e=await r.json();if(r.ok&&e.success)de({type:"success",message:"Sesión cerrada exitosamente"}),window.location.href="/auth/login";else throw new Error(e.message||"Error al cerrar sesión")}catch(r){console.error("Error en logout:",r),de({type:"error",message:"Error al cerrar sesión"}),window.location.href="/auth/login"}}var Ge=b('<div class="sidebar-user-trigger svelte-6rwk47"><div class="user-avatar svelte-6rwk47"><!></div> <div class="user-details svelte-6rwk47"><div class="user-name svelte-6rwk47"> </div> <div class="user-role svelte-6rwk47"> </div></div></div>'),Je=b('<div class="user-menu-trigger svelte-6rwk47"><div class="user-avatar svelte-6rwk47"><!></div> <span class="user-menu-name svelte-6rwk47"> </span></div>'),Ke=b("<!> Modo Claro",1),Qe=b("<!> Modo Oscuro",1),Re=b('<div class="dropdown-header svelte-6rwk47"><div class="dropdown-user-name svelte-6rwk47"> </div> <div class="dropdown-user-email svelte-6rwk47"> </div> <div class="dropdown-user-role svelte-6rwk47"> </div></div> <div class="dropdown-divider svelte-6rwk47"></div> <button class="dropdown-item svelte-6rwk47"><!></button> <div class="dropdown-divider svelte-6rwk47"></div> <a href="/configuracion" class="dropdown-item svelte-6rwk47"><!> Configuración</a> <div class="dropdown-divider svelte-6rwk47"></div> <button class="dropdown-item svelte-6rwk47" data-danger="true"><!> Cerrar Sesión</button>',1);function he(r,e){J(e,!0);const a=()=>re(ie,"$theme",i),[i,d]=ve();let u=A(e,"variant",3,"sidebar"),t=A(e,"dropdownPosition",3,"bottom"),v=A(e,"dropdownAlign",3,"right");function p(){ie.update(g=>g==="light"?"dark":"light")}const f=G(a);{const g=h=>{var l=N(),s=y(l);{var _=x=>{var S=Ge(),$=n(S),V=n($);le(V,{size:20}),o($);var M=m($,2),T=n(M),I=n(T,!0);o(T);var Q=m(T,2),W=n(Q,!0);o(Q),o(M),o(S),O(()=>{var R,j,Y;E(I,((R=e.userProfile)==null?void 0:R.full_name)||((j=e.user)==null?void 0:j.email)),E(W,((Y=e.userProfile)==null?void 0:Y.role)||"Usuario")}),c(x,S)},z=x=>{var S=Je(),$=n(S),V=n($);le(V,{size:18}),o($);var M=m($,2),T=n(M,!0);o(M),o(S),O(()=>{var I;return E(T,((I=e.userProfile)==null?void 0:I.full_name)||"Usuario")}),c(x,S)};L(s,x=>{u()==="sidebar"?x(_):x(z,!1)})}c(h,l)},w=h=>{var l=Re(),s=y(l),_=n(s),z=n(_,!0);o(_);var x=m(_,2),S=n(x,!0);o(x);var $=m(x,2),V=n($,!0);o($),o(s);var M=m(s,4);M.__click=p;var T=n(M);{var I=C=>{var U=Ke(),H=y(U);Le(H,{size:16}),X(),c(C,U)},Q=C=>{var U=Qe(),H=y(U);Ae(H,{size:16}),X(),c(C,U)};L(T,C=>{P(f)==="dark"?C(I):C(Q,!1)})}o(M);var W=m(M,4),R=n(W);Te(R,{size:16}),X(),o(W);var j=m(W,4);j.__click=[Xe];var Y=n(j);Ue(Y,{size:16}),X(),o(j),O(()=>{var C,U,H;E(z,((C=e.userProfile)==null?void 0:C.full_name)||"Usuario"),E(S,(U=e.user)==null?void 0:U.email),E(V,((H=e.userProfile)==null?void 0:H.role)||"Usuario")}),c(h,l)};let k=G(()=>u()==="sidebar"?"sidebar-user-dropdown":"");We(r,{get align(){return v()},get position(){return t()},get class(){return P(k)},trigger:g,children:w,$$slots:{trigger:!0,default:!0}})}K(),d()}te(["click"]);var Ye=b('<span class="company-name svelte-6dohdz"> </span>'),Ze=b('<aside class="sidebar svelte-6dohdz"><div class="sidebar-header svelte-6dohdz"><div class="logo svelte-6dohdz"><img alt="Logo" height="24" class="svelte-6dohdz"/> <div class="logo-text svelte-6dohdz"><span class="app-name svelte-6dohdz">PAS Manager</span> <!></div></div></div> <!> <div class="sidebar-footer svelte-6dohdz"><!></div></aside>');function ea(r,e){J(e,!0);let a=_e("");ye(async()=>{var h;try{const l=await fetch("/api/company");if(l.ok){const s=await l.json();ge(a,((h=s.company)==null?void 0:h.name)||"",!0)}}catch(l){console.error("Error fetching company name:",l)}});var i=Ze(),d=n(i),u=n(d),t=n(u),v=m(t,2),p=m(n(v),2);{var f=h=>{var l=Ye(),s=n(l,!0);o(l),O(()=>E(s,P(a))),c(h,l)};L(p,h=>{P(a)&&h(f)})}o(v),o(u),o(d);var g=m(d,2);ue(g,{get currentPath(){return e.currentPath}});var w=m(g,2),k=n(w);he(k,{get user(){return e.user},get userProfile(){return e.userProfile},variant:"sidebar",dropdownPosition:"top",dropdownAlign:"left"}),o(w),o(i),O(()=>se(t,"src",Ne)),c(r,i),K()}var aa=b('<button class="sidebar-overlay svelte-dsssid" aria-label="Close sidebar"></button>'),ta=b('<!> <aside><div class="sidebar-header svelte-dsssid"><div class="logo svelte-dsssid"><!> <span class="svelte-dsssid">PAS Manager</span></div> <button class="close-button svelte-dsssid"><!></button></div> <!></aside>',1);function ra(r,e){let a=A(e,"isOpen",3,!1);var i=ta(),d=y(i);{var u=l=>{var s=aa();s.__click=function(..._){var z;(z=e.onClose)==null||z.apply(this,_)},c(l,s)};L(d,l=>{a()&&l(u)})}var t=m(d,2);let v;var p=n(t),f=n(p),g=n(f);ce(g,{size:32}),X(2),o(f);var w=m(f,2);w.__click=function(...l){var s;(s=e.onClose)==null||s.apply(this,l)};var k=n(w);Se(k,{size:24}),o(w),o(p);var h=m(p,2);ue(h,{get currentPath(){return e.currentPath}}),o(t),O(l=>v=ae(t,1,"sidebar-mobile svelte-dsssid",null,v,l),[()=>({open:a()})]),c(r,i)}te(["click"]);var sa=b('<header class="header svelte-hv3zzy"><button class="menu-button svelte-hv3zzy"><!></button> <div class="header-actions svelte-hv3zzy"><div class="header-user-menu svelte-hv3zzy"><!></div></div></header>');function oa(r,e){var a=sa(),i=n(a);i.__click=function(...p){var f;(f=e.onToggleSidebar)==null||f.apply(this,p)};var d=n(i);Ee(d,{size:24}),o(i);var u=m(i,2),t=n(u),v=n(t);he(v,{get user(){return e.user},get userProfile(){return e.userProfile},variant:"header"}),o(t),o(u),o(a),c(r,a)}te(["click"]);var na=b(`<style class="svelte-1rlssa4">.dropdown {
      z-index: calc(var(--z-fixed) + 10) !important;
    }</style>`),ia=b('<div class="app-layout svelte-1rlssa4"><!> <!> <div class="main-content svelte-1rlssa4"><!> <main class="content svelte-1rlssa4"><div class="content-wrapper svelte-1rlssa4"><!></div></main></div></div>');function da(r,e){J(e,!0);const a=()=>re(we,"$page",d),i=()=>re(Z,"$sidebarOpen",d),[d,u]=ve();pe(()=>{a().url.pathname,Z.close()});var t=ia();be(l=>{var s=na();c(l,s)});var v=n(t);{let l=G(()=>{var s;return(s=e.data.session)==null?void 0:s.user});ea(v,{get currentPath(){return a().url.pathname},get user(){return P(l)},get userProfile(){return e.data.userProfile}})}var p=m(v,2);ra(p,{get isOpen(){return i()},get currentPath(){return a().url.pathname},get onClose(){return Z.close}});var f=m(p,2),g=n(f);{let l=G(()=>{var s;return(s=e.data.session)==null?void 0:s.user});oa(g,{get user(){return P(l)},get userProfile(){return e.data.userProfile},get onToggleSidebar(){return Z.toggle}})}var w=m(g,2),k=n(w),h=n(k);ee(h,()=>e.children),o(k),o(w),o(f),o(t),c(r,t),K(),u()}function Sa(r,e){da(r,{get data(){return e.data},children:(a,i)=>{var d=N(),u=y(d);ee(u,()=>e.children),c(a,d)},$$slots:{default:!0}})}export{Sa as component};
