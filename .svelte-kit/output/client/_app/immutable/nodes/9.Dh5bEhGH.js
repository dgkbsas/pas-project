import"../chunks/CWj6FrbW.js";import{c as W,f as X,a as _,a8 as ot,b as z,ay as nt,t as T,a9 as ct,aA as dt,aa as y,d as s,aB as lt,g as e,A as c,aE as w,av as vt,ab as p}from"../chunks/T0dPp4D2.js";import{e as U,i as k}from"../chunks/D_uDkMHU.js";import{c as q}from"../chunks/Bc04Jkhx.js";import{s as yt}from"../chunks/BjbfY3vJ.js";import{s as _t}from"../chunks/BqiCCWh5.js";import{t as I,f as F,a as ut}from"../chunks/BIcU5xmk.js";import{C as O}from"../chunks/Ch5CQVJw.js";import{B as mt}from"../chunks/BpcvKk5C.js";/* empty css                */import{U as L}from"../chunks/CZE326ez.js";import{F as j}from"../chunks/CxVX8zWa.js";import"../chunks/Yaf_2f41.js";import{I as Y,s as Z}from"../chunks/BqsbIqZd.js";import{l as tt,s as et}from"../chunks/x5bn8cLp.js";function Q(A,o){const g=tt(o,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];Y(A,et({name:"circle-alert"},()=>g,{get iconNode(){return P},children:(b,H)=>{var u=W(),f=X(u);Z(f,o,"default",{}),_(b,u)},$$slots:{default:!0}}))}function ft(A,o){const g=tt(o,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];Y(A,et({name:"trending-up"},()=>g,{get iconNode(){return P},children:(b,H)=>{var u=W(),f=X(u);Z(f,o,"default",{}),_(b,u)},$$slots:{default:!0}}))}var ht=z('<div class="stat-content svelte-1tyszyy"><div><!></div> <div class="stat-details svelte-1tyszyy"><div class="stat-label svelte-1tyszyy"> </div> <div class="stat-value svelte-1tyszyy"> </div></div></div>'),pt=z('<div class="svelte-1tyszyy"><!></div>'),zt=z('<a class="action-card svelte-1tyszyy"><!> <span class="svelte-1tyszyy"> </span></a>'),gt=z('<h2 class="svelte-1tyszyy">Actividad Reciente</h2>'),$t=z('<div class="activity-item svelte-1tyszyy"><div class="activity-icon svelte-1tyszyy"><!></div> <div class="activity-content svelte-1tyszyy"><div class="activity-title svelte-1tyszyy"> </div> <div class="activity-description svelte-1tyszyy"> </div></div> <div class="activity-time svelte-1tyszyy"> </div></div>'),xt=z('<div class="activity-list svelte-1tyszyy"></div>'),At=z('<div class="dashboard svelte-1tyszyy"><div class="dashboard-header svelte-1tyszyy"><div class="svelte-1tyszyy"><h1 class="svelte-1tyszyy">Dashboard</h1> <p class="svelte-1tyszyy"> </p></div></div> <div class="stats-grid svelte-1tyszyy"></div> <div class="quick-actions svelte-1tyszyy"><h2 class="svelte-1tyszyy">Acciones Rápidas</h2> <div class="actions-grid svelte-1tyszyy"></div></div> <div class="recent-section svelte-1tyszyy"><!></div></div>');function Ut(A,o){ot(o,!0);function g(a){const n=new Date,i=new Date(a),t=Math.floor((n.getTime()-i.getTime())/1e3);return t<60?"Hace un momento":t<3600?`Hace ${Math.floor(t/60)} minutos`:t<86400?`Hace ${Math.floor(t/3600)} horas`:t<604800?`Hace ${Math.floor(t/86400)} días`:i.toLocaleDateString("es-ES",{month:"short",day:"numeric"})}const P=w(()=>[{title:"Clientes Activos",value:o.data.stats.clientsCount.toString(),icon:L,color:"primary"},{title:"Pólizas Vigentes",value:o.data.stats.activePoliciesCount.toString(),icon:j,color:"success"},{title:"Por Vencer (30 días)",value:o.data.stats.expiringPoliciesCount.toString(),icon:Q,color:"warning"},{title:"Renovaciones Este Mes",value:o.data.stats.renewalsThisMonthCount.toString(),icon:ft,color:"info"}]),b=w(()=>[...o.data.recentActivity.clients.map(a=>({type:"new_client",title:"Nuevo cliente registrado",description:`${a.first_name} ${a.last_name}`,time:g(a.created_at),icon:L})),...o.data.recentActivity.policies.map(a=>{var n,i;return{type:"new_policy",title:"Nueva póliza creada",description:`${a.policy_type} - ${((n=a.clients)==null?void 0:n.first_name)||""} ${((i=a.clients)==null?void 0:i.last_name)||""}`.trim()||"Cliente",time:g(a.created_at),icon:j}})].sort((a,n)=>{const i=o.data.recentActivity.clients.find(r=>a.description===`${r.first_name} ${r.last_name}`),t=o.data.recentActivity.policies.find(r=>a.description.includes(r.policy_type)),d=(i==null?void 0:i.created_at)||(t==null?void 0:t.created_at)||"",l=o.data.recentActivity.clients.find(r=>n.description===`${r.first_name} ${r.last_name}`),v=o.data.recentActivity.policies.find(r=>n.description.includes(r.policy_type)),$=(l==null?void 0:l.created_at)||(v==null?void 0:v.created_at)||"";return new Date($).getTime()-new Date(d).getTime()}).slice(0,5)),H=[{label:"Nuevo Cliente",href:"/clientes/nuevo",icon:L},{label:"Nueva Póliza",href:"/polizas/nuevo",icon:j},{label:"Ver Pólizas",href:"/polizas",icon:Q}];var u=At();nt(a=>{dt.title="Dashboard - PAS Manager"});var f=s(u),G=s(f),J=y(s(G),2),at=s(J);e(J),e(G),e(f);var M=y(f,2);U(M,21,()=>c(P),k,(a,n,i)=>{const t=w(()=>c(n).icon);var d=pt(),l=s(d);O(l,{class:"stat-card",children:(v,$)=>{var r=ht(),m=s(r),B=s(m);q(B,()=>c(t),(S,R)=>{R(S,{size:24})}),e(m);var x=y(m,2),h=s(x),D=s(h,!0);e(h);var C=y(h,2),E=s(C,!0);e(C),e(x),e(r),T(()=>{_t(m,1,`stat-icon stat-icon-${c(n).color??""}`,"svelte-1tyszyy"),p(D,c(n).title),p(E,c(n).value)}),_(v,r)},$$slots:{default:!0}}),e(d),I(1,d,()=>ut,()=>({y:20,duration:300,delay:100+i*50})),_(a,d)}),e(M);var N=y(M,2),K=y(s(N),2);U(K,21,()=>H,k,(a,n)=>{const i=w(()=>c(n).icon);var t=zt(),d=s(t);q(d,()=>c(i),($,r)=>{r($,{size:20})});var l=y(d,2),v=s(l,!0);e(l),e(t),T(()=>{yt(t,"href",c(n).href),p(v,c(n).label)}),_(a,t)}),e(K),e(N);var V=y(N,2),st=s(V);O(st,{header:i=>{var t=gt();_(i,t)},footer:i=>{mt(i,{variant:"ghost",size:"sm",children:(t,d)=>{vt();var l=lt("Ver todas las actividades");_(t,l)},$$slots:{default:!0}})},children:(i,t)=>{var d=xt();U(d,21,()=>c(b),k,(l,v)=>{const $=w(()=>c(v).icon);var r=$t(),m=s(r),B=s(m);q(B,()=>c($),(it,rt)=>{rt(it,{size:18})}),e(m);var x=y(m,2),h=s(x),D=s(h,!0);e(h);var C=y(h,2),E=s(C,!0);e(C),e(x);var S=y(x,2),R=s(S,!0);e(S),e(r),T(()=>{p(D,c(v).title),p(E,c(v).description),p(R,c(v).time)}),_(l,r)}),e(d),_(i,d)},$$slots:{header:!0,footer:!0,default:!0}}),e(V),e(u),T(()=>{var a;return p(at,`Bienvenido de vuelta, ${(((a=o.data.userProfile)==null?void 0:a.full_name)||"Usuario")??""}`)}),I(1,M,()=>F,()=>({duration:300,delay:100})),I(1,N,()=>F,()=>({duration:300,delay:300})),I(1,V,()=>F,()=>({duration:300,delay:400})),_(A,u),ct()}export{Ut as component};
