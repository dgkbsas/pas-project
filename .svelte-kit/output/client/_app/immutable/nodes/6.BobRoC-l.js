import"../chunks/CWj6FrbW.js";import{a8 as H,aw as q,ax as J,b as g,ay as K,az as L,a as p,a9 as Q,aA as R,f as x,d as r,aa as e,aB as W,A as v,t as Y,av as D,g as s,aC as Z,ab as ee,aD as C}from"../chunks/T0dPp4D2.js";import{b as te}from"../chunks/DmB7dAFv.js";import{g as I}from"../chunks/CdRlIqj1.js";import{B as N}from"../chunks/BpcvKk5C.js";import{I as _}from"../chunks/CCnm1ovl.js";import{C as A}from"../chunks/Ch5CQVJw.js";import{s as S}from"../chunks/C8FjytsP.js";import{A as ae}from"../chunks/DTsacfhv.js";import{S as re}from"../chunks/CSXst1GK.js";var se=g("<!> Volver",1),le=g('<div class="card-header svelte-tr29t"><h2 class="svelte-tr29t">Información Personal</h2></div> <div class="form-grid svelte-tr29t"><div class="form-group full-width svelte-tr29t"><label for="name" class="svelte-tr29t">Nombre completo <span class="required svelte-tr29t">*</span></label> <!></div> <div class="form-group svelte-tr29t"><label for="email" class="svelte-tr29t">Email</label> <!></div> <div class="form-group svelte-tr29t"><label for="phone" class="svelte-tr29t">Teléfono</label> <!></div> <div class="form-group svelte-tr29t"><label for="id_number" class="svelte-tr29t">DNI/NIE</label> <!></div></div>',1),oe=g('<div class="card-header svelte-tr29t"><h2 class="svelte-tr29t">Dirección</h2></div> <div class="form-grid svelte-tr29t"><div class="form-group full-width svelte-tr29t"><label for="address" class="svelte-tr29t">Dirección</label> <!></div> <div class="form-group svelte-tr29t"><label for="city" class="svelte-tr29t">Ciudad</label> <!></div> <div class="form-group svelte-tr29t"><label for="postal_code" class="svelte-tr29t">Código Postal</label> <!></div></div>',1),ie=g('<div class="card-header svelte-tr29t"><h2 class="svelte-tr29t">Notas adicionales</h2></div> <div class="form-group svelte-tr29t"><label for="notes" class="svelte-tr29t">Notas</label> <textarea id="notes" placeholder="Información adicional sobre el cliente..." rows="4" class="svelte-tr29t"></textarea></div>',1),de=g("<!> ",1),ve=g('<div class="page svelte-tr29t"><div class="page-header svelte-tr29t"><div class="svelte-tr29t"><!> <h1 class="svelte-tr29t">Editar Cliente</h1> <p class="svelte-tr29t">Modifica los datos del cliente</p></div></div> <form class="svelte-tr29t"><!> <!> <!> <div class="form-actions svelte-tr29t"><!> <!></div></form></div>');function ye(O,d){H(d,!0);let b=J(!1),a=q({name:d.data.client.name||"",email:d.data.client.email||"",phone:d.data.client.phone||"",address:d.data.client.address||"",city:d.data.client.city||"",postal_code:d.data.client.postal_code||"",id_number:d.data.client.id_number||"",notes:d.data.client.notes||""}),n=J(q({}));async function U(l){l.preventDefault(),C(b,!0),C(n,{},!0);try{const c=await fetch(`/api/clients/${d.data.client.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await c.json();c.ok?(S({type:"success",message:"Cliente actualizado exitosamente"}),I("/clientes")):(t.errors&&C(n,t.errors,!0),S({type:"error",message:t.message||"Error al actualizar cliente"}))}catch{S({type:"error",message:"Error al actualizar cliente"})}finally{C(b,!1)}}var $=ve();K(l=>{R.title="Editar Cliente - PAS Manager"});var P=r($),j=r(P),V=r(j);N(V,{variant:"ghost",size:"sm",onclick:()=>I("/clientes"),children:(l,c)=>{var t=se(),o=x(t);ae(o,{size:18}),D(),p(l,t)},$$slots:{default:!0}}),D(4),s(j),s(P);var w=e(P,2),T=r(w);A(T,{children:(l,c)=>{var t=le(),o=e(x(t),2),i=r(o),y=e(r(i),2);_(y,{id:"name",placeholder:"Ej: Juan Pérez García",get error(){return v(n).name},required:!0,get value(){return a.name},set value(f){a.name=f}}),s(i);var u=e(i,2),z=e(r(u),2);_(z,{id:"email",type:"email",placeholder:"ejemplo@email.com",get error(){return v(n).email},get value(){return a.email},set value(f){a.email=f}}),s(u);var h=e(u,2),E=e(r(h),2);_(E,{id:"phone",type:"tel",placeholder:"+34 612 345 678",get error(){return v(n).phone},get value(){return a.phone},set value(f){a.phone=f}}),s(h);var m=e(h,2),F=e(r(m),2);_(F,{id:"id_number",placeholder:"12345678X",get error(){return v(n).id_number},get value(){return a.id_number},set value(f){a.id_number=f}}),s(m),s(o),p(l,t)},$$slots:{default:!0}});var k=e(T,2);A(k,{children:(l,c)=>{var t=oe(),o=e(x(t),2),i=r(o),y=e(r(i),2);_(y,{id:"address",placeholder:"Calle, número, piso...",get error(){return v(n).address},get value(){return a.address},set value(m){a.address=m}}),s(i);var u=e(i,2),z=e(r(u),2);_(z,{id:"city",placeholder:"Madrid",get error(){return v(n).city},get value(){return a.city},set value(m){a.city=m}}),s(u);var h=e(u,2),E=e(r(h),2);_(E,{id:"postal_code",placeholder:"28001",get error(){return v(n).postal_code},get value(){return a.postal_code},set value(m){a.postal_code=m}}),s(h),s(o),p(l,t)},$$slots:{default:!0}});var B=e(k,2);A(B,{children:(l,c)=>{var t=ie(),o=e(x(t),2),i=e(r(o),2);Z(i),s(o),te(i,()=>a.notes,y=>a.notes=y),p(l,t)},$$slots:{default:!0}});var G=e(B,2),M=r(G);N(M,{type:"button",variant:"outline",onclick:()=>I("/clientes"),get disabled(){return v(b)},children:(l,c)=>{D();var t=W("Cancelar");p(l,t)},$$slots:{default:!0}});var X=e(M,2);N(X,{type:"submit",variant:"primary",get disabled(){return v(b)},children:(l,c)=>{var t=de(),o=x(t);re(o,{size:18});var i=e(o);Y(()=>ee(i,` ${v(b)?"Guardando...":"Guardar Cambios"}`)),p(l,t)},$$slots:{default:!0}}),s(G),s(w),s($),L("submit",w,U),p(O,$),Q()}export{ye as component};
