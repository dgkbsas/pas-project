import"../chunks/CWj6FrbW.js";import{c as I,f as D,a as l,a6 as ct,N as p,a9 as lt,ag as U,aa as yt,ab as _t,P as m,Q as i,aD as mt,T as a,a2 as o,ad as T,ae as ft,ah as $}from"../chunks/DXalFYC5.js";import{i as j}from"../chunks/DgS_HarA.js";import{e as G,s as ut}from"../chunks/CCesXY4h.js";import{c as J}from"../chunks/2cUHOQ7Q.js";import{s as ht}from"../chunks/CiAFSiaO.js";import{t as q,f as K,a as pt}from"../chunks/CXQWPrWa.js";import{C as tt}from"../chunks/DD2hwmqD.js";import{B as zt}from"../chunks/ey38HHQe.js";/* empty css                */import{U as O}from"../chunks/BtQN14_f.js";import{F as W}from"../chunks/B2p_ebVs.js";import"../chunks/D3fhBnoc.js";import{I as at,s as st}from"../chunks/Wd1UXAwi.js";import{l as it,s as rt}from"../chunks/BkTacmYQ.js";function et(b,n){const x=it(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const A=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];at(b,rt({name:"circle-alert"},()=>x,{get iconNode(){return A},children:(C,B)=>{var f=I(),z=D(f);st(z,n,"default",{}),l(C,f)},$$slots:{default:!0}}))}function gt(b,n){const x=it(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const A=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];at(b,rt({name:"trending-up"},()=>x,{get iconNode(){return A},children:(C,B)=>{var f=I(),z=D(f);st(z,n,"default",{}),l(C,f)},$$slots:{default:!0}}))}var $t=p('<div class="stat-content svelte-1tyszyy"><div><!></div> <div class="stat-details svelte-1tyszyy"><div class="stat-label svelte-1tyszyy"> </div> <div class="stat-value svelte-1tyszyy"> </div></div></div>'),xt=p('<div class="svelte-1tyszyy"><!></div>'),Pt=p('<a class="action-card svelte-1tyszyy"><!> <span class="svelte-1tyszyy"> </span></a>'),bt=p('<h2 class="svelte-1tyszyy">Actividad Reciente</h2>'),At=p('<a href="/actividades" class="svelte-1tyszyy"><!></a>'),Ct=p('<div class="activity-item svelte-1tyszyy"><div class="activity-icon svelte-1tyszyy"><!></div> <div class="activity-content svelte-1tyszyy"><div class="activity-title svelte-1tyszyy"> </div> <div class="activity-description svelte-1tyszyy"> </div></div> <div class="activity-time svelte-1tyszyy"> </div></div>'),wt=p('<div class="activity-list svelte-1tyszyy"></div>'),Nt=p('<div class="dashboard svelte-1tyszyy"><div class="dashboard-header svelte-1tyszyy"><div class="svelte-1tyszyy"><h1 class="svelte-1tyszyy">Dashboard</h1> <p class="svelte-1tyszyy"> </p></div></div> <div class="stats-grid svelte-1tyszyy"></div> <div class="quick-actions svelte-1tyszyy"><h2 class="svelte-1tyszyy">Acciones Rápidas</h2> <div class="actions-grid svelte-1tyszyy"></div></div> <div class="recent-section svelte-1tyszyy"><!></div></div>');function Qt(b,n){ct(n,!0);function x(t){const v=new Date,r=new Date(t),e=Math.floor((v.getTime()-r.getTime())/1e3);return e<60?"Hace un momento":e<3600?`Hace ${Math.floor(e/60)} minutos`:e<86400?`Hace ${Math.floor(e/3600)} horas`:e<604800?`Hace ${Math.floor(e/86400)} días`:r.toLocaleDateString("es-ES",{month:"short",day:"numeric"})}const A=T(()=>[{title:"Clientes Activos",value:n.data.stats.clientsCount.toString(),icon:O,color:"primary"},{title:"Pólizas Vigentes",value:n.data.stats.activePoliciesCount.toString(),icon:W,color:"success"},{title:"Por Vencer (30 días)",value:n.data.stats.expiringPoliciesCount.toString(),icon:et,color:"warning"},{title:"Renovaciones Este Mes",value:n.data.stats.renewalsThisMonthCount.toString(),icon:gt,color:"info"}]),C=T(()=>[...n.data.recentActivity.clients.map(t=>({type:"new_client",title:"Nuevo cliente registrado",description:`${t.first_name} ${t.last_name}`,time:x(t.created_at),icon:O})),...n.data.recentActivity.policies.map(t=>{var v,r;return{type:"new_policy",title:"Nueva póliza creada",description:`${t.policy_type} - ${((v=t.clients)==null?void 0:v.first_name)||""} ${((r=t.clients)==null?void 0:r.last_name)||""}`.trim()||"Cliente",time:x(t.created_at),icon:W}})].sort((t,v)=>{const r=n.data.recentActivity.clients.find(s=>t.description===`${s.first_name} ${s.last_name}`),e=n.data.recentActivity.policies.find(s=>t.description.includes(s.policy_type)),c=(r==null?void 0:r.created_at)||(e==null?void 0:e.created_at)||"",y=n.data.recentActivity.clients.find(s=>v.description===`${s.first_name} ${s.last_name}`),d=n.data.recentActivity.policies.find(s=>v.description.includes(s.policy_type)),u=(y==null?void 0:y.created_at)||(d==null?void 0:d.created_at)||"";return new Date(u).getTime()-new Date(c).getTime()}).slice(0,5)),B=[{label:"Nuevo Cliente",href:"/clientes/nuevo",icon:O},{label:"Nueva Póliza",href:"/polizas/nuevo",icon:W},{label:"Ver Pólizas",href:"/polizas",icon:et}];var f=Nt();lt(t=>{_t.title="Dashboard - PAS Manager"});var z=i(f),X=i(z),Y=m(i(X),2),ot=i(Y);a(Y),a(X),a(z);var H=m(z,2);G(H,23,()=>o(A),t=>t.title,(t,v,r)=>{const e=T(()=>o(v).icon);var c=xt(),y=i(c);tt(y,{class:"stat-card",children:(d,u)=>{var s=$t(),_=i(s),w=i(_);{var N=P=>{var k=I(),S=D(k);J(S,()=>o(e),(R,Q)=>{Q(R,{size:24})}),l(P,k)};j(w,P=>{o(e)&&P(N)})}a(_);var h=m(_,2),g=i(h),F=i(g,!0);a(g);var M=m(g,2),L=i(M,!0);a(M),a(h),a(s),U(()=>{ht(_,1,`stat-icon stat-icon-${o(v).color??""}`,"svelte-1tyszyy"),$(F,o(v).title),$(L,o(v).value)}),l(d,s)},$$slots:{default:!0}}),a(c),q(1,c,()=>pt,()=>({y:20,duration:300,delay:100+o(r)*50})),l(t,c)}),a(H);var V=m(H,2),Z=m(i(V),2);G(Z,21,()=>B,t=>t.href,(t,v)=>{const r=T(()=>o(v).icon);var e=Pt(),c=i(e);{var y=s=>{var _=I(),w=D(_);J(w,()=>o(r),(N,h)=>{h(N,{size:20})}),l(s,_)};j(c,s=>{o(r)&&s(y)})}var d=m(c,2),u=i(d,!0);a(d),a(e),U(()=>{ut(e,"href",o(v).href),$(u,o(v).label)}),l(t,e)}),a(Z),a(V);var E=m(V,2),nt=i(E);tt(nt,{header:r=>{var e=bt();l(r,e)},footer:r=>{var e=At(),c=i(e);zt(c,{variant:"ghost",size:"sm",children:(y,d)=>{ft();var u=mt("Ver todas las actividades");l(y,u)},$$slots:{default:!0}}),a(e),l(r,e)},children:(r,e)=>{var c=wt();G(c,23,()=>o(C),(y,d)=>y.type+"-"+d,(y,d)=>{const u=T(()=>o(d).icon);var s=Ct(),_=i(s),w=i(_);{var N=S=>{var R=I(),Q=D(R);J(Q,()=>o(u),(vt,dt)=>{dt(vt,{size:18})}),l(S,R)};j(w,S=>{o(u)&&S(N)})}a(_);var h=m(_,2),g=i(h),F=i(g,!0);a(g);var M=m(g,2),L=i(M,!0);a(M),a(h);var P=m(h,2),k=i(P,!0);a(P),a(s),U(()=>{$(F,o(d).title),$(L,o(d).description),$(k,o(d).time)}),l(y,s)}),a(c),l(r,c)},$$slots:{header:!0,footer:!0,default:!0}}),a(E),a(f),U(()=>{var t;return $(ot,`Bienvenido de vuelta, ${(((t=n.data.userProfile)==null?void 0:t.full_name)||"Usuario")??""}`)}),q(1,H,()=>K,()=>({duration:300,delay:100})),q(1,V,()=>K,()=>({duration:300,delay:300})),q(1,E,()=>K,()=>({duration:300,delay:400})),l(b,f),yt()}export{Qt as component};
