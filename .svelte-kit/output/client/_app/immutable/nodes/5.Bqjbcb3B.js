import"../chunks/CWj6FrbW.js";import{c as O,f as g,a as i,aW as De,a8 as Me,b as o,ay as Fe,t as z,a9 as Ve,d as a,aa as s,aA as Ue,av as M,g as e,aD as le,A as c,ax as be,ab as h,aE as xe,aB as $e}from"../chunks/T0dPp4D2.js";import{i as q}from"../chunks/iIrk5DBN.js";import{e as Le,i as Re}from"../chunks/D_uDkMHU.js";import{r as We}from"../chunks/BjbfY3vJ.js";import{a as je}from"../chunks/DmB7dAFv.js";import{g as L}from"../chunks/CdRlIqj1.js";import{B as ve}from"../chunks/BpcvKk5C.js";import{C as de}from"../chunks/Ch5CQVJw.js";import{B as Ge}from"../chunks/DJIlydZI.js";import{T as He}from"../chunks/B-s6uBUg.js";import{P as Je,E as Pe,T as Ke}from"../chunks/BU4vvWGd.js";import{A as Oe}from"../chunks/DTsacfhv.js";import{S as Qe}from"../chunks/DbvMrZnG.js";import{M as Xe}from"../chunks/BTHszUwG.js";import{P as Ye}from"../chunks/BDn2B5Ob.js";import{F as oe}from"../chunks/CxVX8zWa.js";import"../chunks/Yaf_2f41.js";import{I as Ze,s as ea}from"../chunks/BqsbIqZd.js";import{l as aa,s as ta}from"../chunks/x5bn8cLp.js";import{C as sa}from"../chunks/4fn6L_-7.js";function ia(R,t){const S=aa(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const w=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];Ze(R,ta({name:"map-pin"},()=>S,{get iconNode(){return w},children:(W,ne)=>{var j=O(),Q=g(j);ea(Q,t,"default",{}),i(W,j)},$$slots:{default:!0}}))}var ra=o("<!> Volver",1),la=o("<!> Editar Cliente",1),va=o('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Email</div> <div class="value svelte-q8hs85"> </div></div></div>'),da=o('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Teléfono</div> <div class="value svelte-q8hs85"> </div></div></div>'),oa=o('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">DNI/NIE</div> <div class="value svelte-q8hs85"> </div></div></div>'),na=o('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Datos Personales</h2></div> <div class="info-list svelte-q8hs85"><!> <!> <!></div>',1),ca=o('<div class="svelte-q8hs85"> </div>'),_a=o('<div class="svelte-q8hs85"> </div>'),ha=o('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Ubicación</div> <div class="value svelte-q8hs85"><!> <!></div></div></div>'),ma=o('<div class="empty-info svelte-q8hs85">No hay dirección registrada</div>'),fa=o('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Dirección</h2></div> <div class="info-list svelte-q8hs85"><!></div>',1),ua=o('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Notas</h2></div> <p class="notes svelte-q8hs85"> </p>',1),qa=o('<div class="info-grid svelte-q8hs85"><!> <!> <!></div>'),ga=o("<!> Nueva Póliza",1),pa=(R,t)=>L(`/polizas/${c(t).id}/editar`),ba=o('<tr class="clickable-row svelte-q8hs85"><td class="svelte-q8hs85"><span class="policy-number svelte-q8hs85"> </span></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><!></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><div class="date-cell svelte-q8hs85"><!> </div></td></tr>'),xa=o('<thead class="svelte-q8hs85"><tr class="svelte-q8hs85"><th class="svelte-q8hs85">N° Póliza</th><th class="svelte-q8hs85">Tipo</th><th class="svelte-q8hs85">Aseguradora</th><th class="svelte-q8hs85">Estado</th><th class="svelte-q8hs85">Prima</th><th class="svelte-q8hs85">Vencimiento</th></tr></thead> <tbody class="svelte-q8hs85"></tbody>',1),Pa=o('<div class="policies-section svelte-q8hs85"><div class="policies-header svelte-q8hs85"><div class="svelte-q8hs85"><h2 class="svelte-q8hs85">Pólizas del Cliente</h2> <label class="checkbox-label svelte-q8hs85"><input type="checkbox" class="svelte-q8hs85"/> <span class="svelte-q8hs85">Mostrar inactivas</span></label></div> <!></div> <!></div>'),za=o('<div class="page svelte-q8hs85"><div class="page-header svelte-q8hs85"><div class="svelte-q8hs85"><!> <h1 class="svelte-q8hs85"> </h1> <p class="svelte-q8hs85">Información detallada del cliente</p></div> <!></div> <!></div>');function Ga(R,t){Me(t,!0);let S=be("info"),w=be(!1);const W=xe(()=>c(w)?t.data.policies:t.data.policies.filter(r=>r.active!==!1)),ne=[{id:"info",label:"Información"},{id:"policies",label:`Pólizas (${t.data.policies.length})`}];function j(r){return new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}function Q(r){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(r)}function ze(r){const G={active:"success",cancelled:"error",expired:"warning"},p={active:"Activa",cancelled:"Cancelada",expired:"Vencida"};return{variant:G[r]||"default",label:p[r]||r}}var X=za();Fe(r=>{z(()=>Ue.title=`${t.data.client.first_name??""} ${t.data.client.last_name??""} - PAS Manager`)});var Y=a(X),Z=a(Y),ce=a(Z);ve(ce,{variant:"ghost",size:"sm",onclick:()=>L("/clientes"),children:(r,G)=>{var p=ra(),F=g(p);Oe(F,{size:18}),M(),i(r,p)},$$slots:{default:!0}});var _e=s(ce,2),ye=a(_e);e(_e),M(2),e(Z);var ke=s(Z,2);ve(ke,{variant:"primary",onclick:()=>L(`/clientes/${t.data.client.id}/editar`),children:(r,G)=>{var p=la(),F=g(p);Qe(F,{size:18}),M(),i(r,p)},$$slots:{default:!0}}),e(Y);var Ee=s(Y,2);He(Ee,{get tabs(){return ne},get activeTab(){return c(S)},set activeTab(r){le(S,r,!0)},$$events:{change:r=>le(S,r.detail,!0)},children:(r,G)=>{var p=O(),F=g(p);{var Ce=A=>{var B=qa(),H=a(B);de(H,{children:(f,N)=>{var y=na(),u=s(g(y),2),k=a(u);{var T=l=>{var d=va(),_=a(d);Xe(_,{size:18});var n=s(_,2),m=s(a(n),2),C=a(m,!0);e(m),e(n),e(d),z(()=>h(C,t.data.client.email)),i(l,d)};q(k,l=>{t.data.client.email&&l(T)})}var D=s(k,2);{var b=l=>{var d=da(),_=a(d);Ye(_,{size:18});var n=s(_,2),m=s(a(n),2),C=a(m,!0);e(m),e(n),e(d),z(()=>h(C,t.data.client.phone)),i(l,d)};q(D,l=>{t.data.client.phone&&l(b)})}var v=s(D,2);{var E=l=>{var d=oa(),_=a(d);oe(_,{size:18});var n=s(_,2),m=s(a(n),2),C=a(m,!0);e(m),e(n),e(d),z(()=>h(C,t.data.client.id_number)),i(l,d)};q(v,l=>{t.data.client.id_number&&l(E)})}e(u),i(f,y)},$$slots:{default:!0}});var J=s(H,2);de(J,{children:(f,N)=>{var y=fa(),u=s(g(y),2),k=a(u);{var T=b=>{var v=ha(),E=a(v);ia(E,{size:18});var l=s(E,2),d=s(a(l),2),_=a(d);{var n=x=>{var P=ca(),$=a(P,!0);e(P),z(()=>h($,t.data.client.address)),i(x,P)};q(_,x=>{t.data.client.address&&x(n)})}var m=s(_,2);{var C=x=>{var P=_a(),$=a(P);e(P),z(()=>h($,`${(t.data.client.postal_code||"")??""}
                        ${(t.data.client.city||"")??""}`)),i(x,P)};q(m,x=>{(t.data.client.city||t.data.client.postal_code)&&x(C)})}e(d),e(l),e(v),i(b,v)},D=b=>{var v=ma();i(b,v)};q(k,b=>{t.data.client.address||t.data.client.city||t.data.client.postal_code?b(T):b(D,!1)})}e(u),i(f,y)},$$slots:{default:!0}});var V=s(J,2);{var U=f=>{de(f,{class:"full-width",children:(N,y)=>{var u=ua(),k=s(g(u),2),T=a(k,!0);e(k),z(()=>h(T,t.data.client.notes)),i(N,u)},$$slots:{default:!0}})};q(V,f=>{t.data.client.notes&&f(U)})}e(B),i(A,B)},Se=A=>{var B=O(),H=g(B);{var J=V=>{var U=Pa(),f=a(U),N=a(f),y=s(a(N),2),u=a(y);We(u),M(2),e(y),e(N);var k=s(N,2);ve(k,{variant:"primary",size:"sm",onclick:()=>L("/polizas/nuevo"),children:(v,E)=>{var l=ga(),d=g(l);Je(d,{size:16}),M(),i(v,l)},$$slots:{default:!0}}),e(f);var T=s(f,2);{var D=v=>{Pe(v,{get icon(){return oe},title:"Sin pólizas activas",description:"Este cliente no tiene pólizas activas"})},b=v=>{var E=O(),l=g(E);{var d=n=>{Pe(n,{get icon(){return oe},title:"Sin pólizas",description:"Este cliente no tiene pólizas registradas",action:{label:"Crear Póliza",onclick:()=>L("/polizas/nuevo")}})},_=n=>{Ke(n,{children:(m,C)=>{var x=xa(),P=s(g(x),2);Le(P,21,()=>c(W),Re,($,I)=>{const he=xe(()=>ze(c(I).status));var K=ba();K.__click=[pa,I];var ee=a(K),me=a(ee),Ne=a(me,!0);e(me),e(ee);var ae=s(ee),Te=a(ae,!0);e(ae);var te=s(ae),Ie=a(te,!0);e(te);var se=s(te),we=a(se);Ge(we,{get variant(){return c(he).variant},children:(re,ge)=>{M();var pe=$e();z(()=>h(pe,c(he).label)),i(re,pe)},$$slots:{default:!0}}),e(se);var ie=s(se),Ae=a(ie,!0);e(ie);var fe=s(ie),ue=a(fe),qe=a(ue);sa(qe,{size:14});var Be=s(qe);e(ue),e(fe),e(K),z((re,ge)=>{h(Ne,c(I).policy_number),h(Te,c(I).policy_type),h(Ie,c(I).insurer),h(Ae,re),h(Be,` ${ge??""}`)},[()=>Q(c(I).premium),()=>j(c(I).end_date)]),i($,K)}),e(P),i(m,x)},$$slots:{default:!0}})};q(l,n=>{t.data.policies.length===0?n(d):n(_,!1)},!0)}i(v,E)};q(T,v=>{c(W).length===0&&!c(w)?v(D):v(b,!1)})}e(U),je(u,()=>c(w),v=>le(w,v)),i(V,U)};q(H,V=>{c(S)==="policies"&&V(J)},!0)}i(A,B)};q(F,A=>{c(S)==="info"?A(Ce):A(Se,!1)})}i(r,p)},$$slots:{default:!0}}),e(X),z(()=>h(ye,`${t.data.client.first_name??""} ${t.data.client.last_name??""}`)),i(R,X),Ve()}De(["click"]);export{Ga as component};
