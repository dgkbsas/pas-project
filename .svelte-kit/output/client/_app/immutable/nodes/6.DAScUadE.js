import"../chunks/CWj6FrbW.js";import{c as ve,f as S,a as l,af as Ue,a6 as Ve,N as r,a9 as Re,ag as p,aa as We,Q as a,P as t,ab as Le,ae as L,T as e,ac as fe,a2 as b,a7 as ye,ah as m,ad as ke,aD as Oe}from"../chunks/DXalFYC5.js";import{i as q}from"../chunks/DgS_HarA.js";import{s as Qe,r as je,e as Ge,i as He}from"../chunks/CCesXY4h.js";import{a as Je}from"../chunks/Bf-8v-H5.js";import{g as Y}from"../chunks/DboXdvGe.js";import{B as me}from"../chunks/ey38HHQe.js";import{C as ie}from"../chunks/DD2hwmqD.js";import{C as we,B as Ke}from"../chunks/BQnzrsda.js";import{T as Xe,S as Ye}from"../chunks/CsaozLtE.js";import{P as Ze,T as $e}from"../chunks/BE3yFpjr.js";import{E as Ce}from"../chunks/BjdX1nSD.js";import{P as Se,i as ea,M as aa,g as ta}from"../chunks/C5GPauD2.js";import{A as sa}from"../chunks/CNwQjRCr.js";import{M as Ae}from"../chunks/CfGZx9bz.js";import{F as X}from"../chunks/B2p_ebVs.js";import"../chunks/D3fhBnoc.js";import{I as ia,s as va}from"../chunks/Wd1UXAwi.js";import{l as la,s as ra}from"../chunks/BkTacmYQ.js";function da(Z,s){const I=la(s,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const B=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];ia(Z,ra({name:"map-pin"},()=>I,{get iconNode(){return B},children:($,ue)=>{var O=ve(),le=S(O);va(le,s,"default",{}),l($,O)},$$slots:{default:!0}}))}var na=r("<!> Volver",1),ca=r("<!> Editar Cliente",1),oa=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Email Principal</div> <div class="value svelte-q8hs85"> </div></div></div>'),_a=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Email Secundario</div> <div class="value svelte-q8hs85"> </div></div></div>'),ha=r('<a target="_blank" rel="noopener noreferrer" class="whatsapp-btn svelte-q8hs85" title="Abrir en WhatsApp"><!></a>'),fa=r('<div class="info-item svelte-q8hs85"><!> <div class="phone-content svelte-q8hs85"><div class="label svelte-q8hs85">Celular</div> <div class="value phone-with-whatsapp svelte-q8hs85"><span class="svelte-q8hs85"> </span> <!></div></div></div>'),ma=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Teléfono</div> <div class="value svelte-q8hs85"> </div></div></div>'),ua=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">DNI/CUIT</div> <div class="value svelte-q8hs85"> </div></div></div>'),qa=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Fecha de Nacimiento</div> <div class="value svelte-q8hs85"> </div></div></div>'),ba=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Datos Personales</h2></div> <div class="info-list svelte-q8hs85"><!> <!> <div class="info-row svelte-q8hs85"><!> <!></div> <!> <!></div>',1),ga=r('<div class="svelte-q8hs85"> </div>'),pa=r('<div class="svelte-q8hs85"> </div>'),xa=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Ubicación</div> <div class="value svelte-q8hs85"><!> <!></div></div></div>'),za=r('<div class="empty-info svelte-q8hs85">No hay dirección registrada</div>'),Pa=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Dirección</h2></div> <div class="info-list svelte-q8hs85"><!></div>',1),ya=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Alias PAS</div> <div class="value svelte-q8hs85"> </div></div></div>'),ka=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Referido Por</div> <div class="value svelte-q8hs85"> </div></div></div>'),wa=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Información Adicional</h2></div> <div class="info-list svelte-q8hs85"><!> <!></div>',1),Ca=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Observaciones</h2></div> <p class="notes svelte-q8hs85"> </p>',1),Sa=r('<div class="info-grid svelte-q8hs85"><!> <!> <!> <!></div>'),Aa=r("<!> Nueva Póliza",1),Ea=(Z,s)=>Y(`/polizas/${b(s).id}/editar`),Ta=r('<tr class="clickable-row svelte-q8hs85"><td class="svelte-q8hs85"><span class="policy-number svelte-q8hs85"> </span></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><!></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><div class="date-cell svelte-q8hs85"><!> </div></td></tr>'),Na=r('<thead class="svelte-q8hs85"><tr class="svelte-q8hs85"><th class="svelte-q8hs85">N° Póliza</th><th class="svelte-q8hs85">Tipo</th><th class="svelte-q8hs85">Aseguradora</th><th class="svelte-q8hs85">Estado</th><th class="svelte-q8hs85">Prima</th><th class="svelte-q8hs85">Vencimiento</th></tr></thead> <tbody class="svelte-q8hs85"></tbody>',1),Ia=r('<div class="policies-section svelte-q8hs85"><div class="policies-header svelte-q8hs85"><div class="svelte-q8hs85"><h2 class="svelte-q8hs85">Pólizas del Cliente</h2> <label class="checkbox-label svelte-q8hs85"><input type="checkbox" class="svelte-q8hs85"/> <span class="svelte-q8hs85">Mostrar inactivas</span></label></div> <!></div> <!></div>'),Ma=r('<div class="page svelte-q8hs85"><div class="page-header svelte-q8hs85"><div class="svelte-q8hs85"><!> <h1 class="svelte-q8hs85"> </h1> <p class="svelte-q8hs85">Información detallada del cliente</p></div> <!></div> <!></div>');function et(Z,s){Ve(s,!0);let I=ye("info"),B=ye(!1);const $=ke(()=>b(B)?s.data.policies:s.data.policies.filter(_=>_.active!==!1)),ue=[{id:"info",label:"Información"},{id:"policies",label:`Pólizas (${s.data.policies.length})`}];function O(_){return new Date(_).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}function le(_){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(_)}function Ee(_){const ee={active:"success",cancelled:"error",expired:"warning"},A={active:"Activa",cancelled:"Cancelada",expired:"Vencida"};return{variant:ee[_]||"default",label:A[_]||_}}var re=Ma();Re(_=>{p(()=>Le.title=`${s.data.client.first_name??""} ${s.data.client.last_name??""} - PAS Manager`)});var de=a(re),ne=a(de),qe=a(ne);me(qe,{variant:"ghost",size:"sm",onclick:()=>Y("/clientes"),children:(_,ee)=>{var A=na(),Q=S(A);sa(Q,{size:18}),L(),l(_,A)},$$slots:{default:!0}});var be=t(qe,2),Te=a(be);e(be),L(2),e(ne);var Ne=t(ne,2);me(Ne,{variant:"primary",onclick:()=>Y(`/clientes/${s.data.client.id}/editar`),children:(_,ee)=>{var A=ca(),Q=S(A);Ye(Q,{size:18}),L(),l(_,A)},$$slots:{default:!0}}),e(de);var Ie=t(de,2);Xe(Ie,{get tabs(){return ue},get activeTab(){return b(I)},set activeTab(_){fe(I,_,!0)},$$events:{change:_=>fe(I,_.detail,!0)},children:(_,ee)=>{var A=ve(),Q=S(A);{var Me=F=>{var U=Sa(),ae=a(U);ie(ae,{children:(z,M)=>{var y=ba(),P=t(S(y),2),k=a(P);{var T=v=>{var i=oa(),h=a(i);Ae(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o,!0);e(o),e(d),e(i),p(()=>m(g,s.data.client.email_primary)),l(v,i)};q(k,v=>{s.data.client.email_primary&&v(T)})}var N=t(k,2);{var n=v=>{var i=_a(),h=a(i);Ae(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o,!0);e(o),e(d),e(i),p(()=>m(g,s.data.client.email_secondary)),l(v,i)};q(N,v=>{s.data.client.email_secondary&&v(n)})}var c=t(N,2),f=a(c);{var x=v=>{var i=fa(),h=a(i);Se(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o),H=a(g,!0);e(g);var J=t(g,2);{var ce=D=>{var W=ha(),K=a(W);aa(K,{size:16}),e(W),p(oe=>Qe(W,"href",oe),[()=>ta(s.data.client.phone)]),l(D,W)};q(J,D=>{ea(s.data.client.phone)&&D(ce)})}e(o),e(d),e(i),p(()=>m(H,s.data.client.phone)),l(v,i)};q(f,v=>{s.data.client.phone&&v(x)})}var w=t(f,2);{var u=v=>{var i=ma(),h=a(i);Se(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o,!0);e(o),e(d),e(i),p(()=>m(g,s.data.client.phone_landline)),l(v,i)};q(w,v=>{s.data.client.phone_landline&&v(u)})}e(c);var E=t(c,2);{var se=v=>{var i=ua(),h=a(i);X(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o,!0);e(o),e(d),e(i),p(()=>m(g,s.data.client.document_number)),l(v,i)};q(E,v=>{s.data.client.document_number&&v(se)})}var R=t(E,2);{var C=v=>{var i=qa(),h=a(i);we(h,{size:18});var d=t(h,2),o=t(a(d),2),g=a(o,!0);e(o),e(d),e(i),p(H=>m(g,H),[()=>O(s.data.client.birth_date)]),l(v,i)};q(R,v=>{s.data.client.birth_date&&v(C)})}e(P),l(z,y)},$$slots:{default:!0}});var te=t(ae,2);ie(te,{children:(z,M)=>{var y=Pa(),P=t(S(y),2),k=a(P);{var T=n=>{var c=xa(),f=a(c);da(f,{size:18});var x=t(f,2),w=t(a(x),2),u=a(w);{var E=C=>{var v=ga(),i=a(v,!0);e(v),p(()=>m(i,s.data.client.address)),l(C,v)};q(u,C=>{s.data.client.address&&C(E)})}var se=t(u,2);{var R=C=>{var v=pa(),i=a(v);e(v),p(()=>m(i,`${(s.data.client.postal_code||"")??""}
                        ${(s.data.client.city||"")??""}`)),l(C,v)};q(se,C=>{(s.data.client.city||s.data.client.postal_code)&&C(R)})}e(w),e(x),e(c),l(n,c)},N=n=>{var c=za();l(n,c)};q(k,n=>{s.data.client.address||s.data.client.city||s.data.client.postal_code?n(T):n(N,!1)})}e(P),l(z,y)},$$slots:{default:!0}});var V=t(te,2);ie(V,{class:"full-width",children:(z,M)=>{var y=wa(),P=t(S(y),2),k=a(P);{var T=c=>{var f=ya(),x=a(f);X(x,{size:18});var w=t(x,2),u=t(a(w),2),E=a(u,!0);e(u),e(w),e(f),p(()=>m(E,s.data.client.alias_pas)),l(c,f)};q(k,c=>{s.data.client.alias_pas&&c(T)})}var N=t(k,2);{var n=c=>{var f=ka(),x=a(f);X(x,{size:18});var w=t(x,2),u=t(a(w),2),E=a(u,!0);e(u),e(w),e(f),p(()=>m(E,s.data.client.referred_by)),l(c,f)};q(N,c=>{s.data.client.referred_by&&c(n)})}e(P),l(z,y)},$$slots:{default:!0}});var j=t(V,2);{var G=z=>{ie(z,{class:"full-width",children:(M,y)=>{var P=Ca(),k=t(S(P),2),T=a(k,!0);e(k),p(()=>m(T,s.data.client.observations)),l(M,P)},$$slots:{default:!0}})};q(j,z=>{s.data.client.observations&&z(G)})}e(U),l(F,U)},De=F=>{var U=ve(),ae=S(U);{var te=V=>{var j=Ia(),G=a(j),z=a(G),M=t(a(z),2),y=a(M);je(y),L(2),e(M),e(z);var P=t(z,2);me(P,{variant:"primary",size:"sm",onclick:()=>Y(`/polizas/nuevo?client_id=${s.data.client.id}`),children:(n,c)=>{var f=Aa(),x=S(f);Ze(x,{size:16}),L(),l(n,f)},$$slots:{default:!0}}),e(G);var k=t(G,2);{var T=n=>{Ce(n,{get icon(){return X},title:"Sin pólizas activas",description:"Este cliente no tiene pólizas activas"})},N=n=>{var c=ve(),f=S(c);{var x=u=>{Ce(u,{get icon(){return X},title:"Sin pólizas",description:"Este cliente no tiene pólizas registradas",action:{label:"Crear Póliza",onclick:()=>Y("/polizas/nuevo")}})},w=u=>{$e(u,{children:(E,se)=>{var R=Na(),C=t(S(R),2);Ge(C,21,()=>b($),He,(v,i)=>{const h=ke(()=>Ee(b(i).status));var d=Ta();d.__click=[Ea,i];var o=a(d),g=a(o),H=a(g,!0);e(g),e(o);var J=t(o),ce=a(J,!0);e(J);var D=t(J),W=a(D,!0);e(D);var K=t(D),oe=a(K);Ke(oe,{get variant(){return b(h).variant},children:(he,ze)=>{L();var Pe=Oe();p(()=>m(Pe,b(h).label)),l(he,Pe)},$$slots:{default:!0}}),e(K);var _e=t(K),Be=a(_e,!0);e(_e);var ge=t(_e),pe=a(ge),xe=a(pe);we(xe,{size:14});var Fe=t(xe);e(pe),e(ge),e(d),p((he,ze)=>{m(H,b(i).policy_number),m(ce,b(i).policy_type),m(W,b(i).insurer),m(Be,he),m(Fe,` ${ze??""}`)},[()=>le(b(i).premium),()=>O(b(i).end_date)]),l(v,d)}),e(C),l(E,R)},$$slots:{default:!0}})};q(f,u=>{s.data.policies.length===0?u(x):u(w,!1)},!0)}l(n,c)};q(k,n=>{b($).length===0&&!b(B)?n(T):n(N,!1)})}e(j),Je(y,()=>b(B),n=>fe(B,n)),l(V,j)};q(ae,V=>{b(I)==="policies"&&V(te)},!0)}l(F,U)};q(Q,F=>{b(I)==="info"?F(Me):F(De,!1)})}l(_,A)},$$slots:{default:!0}}),e(re),p(()=>m(Te,`${s.data.client.first_name??""} ${s.data.client.last_name??""}`)),l(Z,re),We()}Ue(["click"]);export{et as component};
