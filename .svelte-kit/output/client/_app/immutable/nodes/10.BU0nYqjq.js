import"../chunks/CWj6FrbW.js";import{c as I,f as k,a as l,a7 as dt,b as p,aa as lt,t as R,ab as yt,ac as _t,U as f,d as i,ak as ft,r as a,a3 as o,ae as T,af as mt,ah as $}from"../chunks/BKJL6YfG.js";import{i as G}from"../chunks/CX_YFbLR.js";import{e as J,s as ut}from"../chunks/BpKyf_Cv.js";import{c as K}from"../chunks/CSW8TH0X.js";import{s as ht}from"../chunks/Dk1W01op.js";import{t as q,f as O,a as pt}from"../chunks/BcoWetQX.js";import{C as tt}from"../chunks/Dltoj_Hs.js";import{B as zt}from"../chunks/PkYitcBM.js";/* empty css                */import{U as Q}from"../chunks/ApxsD9uX.js";import{F as W}from"../chunks/Cb1H4-Fo.js";import"../chunks/DOky0DoK.js";import{I as at,s as st}from"../chunks/Cv8LfVAm.js";import{l as it,s as rt}from"../chunks/B-WhYZDZ.js";function et(P,n){const x=it(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const A=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];at(P,rt({name:"circle-alert"},()=>x,{get iconNode(){return A},children:(C,B)=>{var m=I(),z=k(m);st(z,n,"default",{}),l(C,m)},$$slots:{default:!0}}))}function gt(P,n){const x=it(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const A=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];at(P,rt({name:"trending-up"},()=>x,{get iconNode(){return A},children:(C,B)=>{var m=I(),z=k(m);st(z,n,"default",{}),l(C,m)},$$slots:{default:!0}}))}var $t=p('<div class="stat-content svelte-1tyszyy"><div><!></div> <div class="stat-details svelte-1tyszyy"><div class="stat-label svelte-1tyszyy"> </div> <div class="stat-value svelte-1tyszyy"> </div></div></div>'),xt=p('<div class="svelte-1tyszyy"><!></div>'),bt=p('<a class="action-card svelte-1tyszyy"><!> <span class="svelte-1tyszyy"> </span></a>'),Pt=p('<h2 class="svelte-1tyszyy">Actividad Reciente</h2>'),At=p('<a href="/actividades" class="svelte-1tyszyy"><!></a>'),Ct=p('<div class="activity-item svelte-1tyszyy"><div class="activity-icon svelte-1tyszyy"><!></div> <div class="activity-content svelte-1tyszyy"><div class="activity-title svelte-1tyszyy"> </div> <div class="activity-description svelte-1tyszyy"> </div></div> <div class="activity-time svelte-1tyszyy"> </div></div>'),wt=p('<div class="activity-list svelte-1tyszyy"></div>'),Mt=p('<div class="dashboard svelte-1tyszyy"><div class="dashboard-header svelte-1tyszyy"><div class="svelte-1tyszyy"><h1 class="svelte-1tyszyy">Dashboard</h1> <p class="svelte-1tyszyy"> </p></div></div> <div class="stats-grid svelte-1tyszyy"></div> <div class="quick-actions svelte-1tyszyy"><h2 class="svelte-1tyszyy">Acciones Rápidas</h2> <div class="actions-grid svelte-1tyszyy"></div></div> <div class="recent-section svelte-1tyszyy"><!></div></div>');function jt(P,n){dt(n,!0);function x(t){const v=new Date,r=new Date(t),e=Math.floor((v.getTime()-r.getTime())/1e3);return e<60?"Hace un momento":e<3600?`Hace ${Math.floor(e/60)} minutos`:e<86400?`Hace ${Math.floor(e/3600)} horas`:e<604800?`Hace ${Math.floor(e/86400)} días`:r.toLocaleDateString("es-ES",{month:"short",day:"numeric"})}const A=T(()=>[{title:"Clientes Activos",value:n.data.stats.clientsCount.toString(),icon:Q,color:"primary"},{title:"Pólizas Vigentes",value:n.data.stats.activePoliciesCount.toString(),icon:W,color:"success"},{title:"Por Vencer (30 días)",value:n.data.stats.expiringPoliciesCount.toString(),icon:et,color:"warning"},{title:"Renovaciones Este Mes",value:n.data.stats.renewalsThisMonthCount.toString(),icon:gt,color:"info"}]),C=T(()=>[...n.data.recentActivity.clients.map(t=>({type:"new_client",title:"Nuevo cliente registrado",description:`${t.first_name} ${t.last_name}`,time:x(t.created_at),icon:Q})),...n.data.recentActivity.policies.map(t=>{var v,r;return{type:"new_policy",title:"Nueva póliza creada",description:`${t.policy_type} - ${((v=t.clients)==null?void 0:v.first_name)||""} ${((r=t.clients)==null?void 0:r.last_name)||""}`.trim()||"Cliente",time:x(t.created_at),icon:W}})].sort((t,v)=>{const r=n.data.recentActivity.clients.find(s=>t.description===`${s.first_name} ${s.last_name}`),e=n.data.recentActivity.policies.find(s=>t.description.includes(s.policy_type)),d=(r==null?void 0:r.created_at)||(e==null?void 0:e.created_at)||"",y=n.data.recentActivity.clients.find(s=>v.description===`${s.first_name} ${s.last_name}`),c=n.data.recentActivity.policies.find(s=>v.description.includes(s.policy_type)),u=(y==null?void 0:y.created_at)||(c==null?void 0:c.created_at)||"";return new Date(u).getTime()-new Date(d).getTime()}).slice(0,5)),B=[{label:"Nuevo Cliente",href:"/clientes/nuevo",icon:Q},{label:"Nueva Póliza",href:"/polizas/nuevo",icon:W},{label:"Ver Pólizas",href:"/polizas",icon:et}];var m=Mt();lt(t=>{_t.title="Dashboard - PAS Manager"});var z=i(m),X=i(z),Y=f(i(X),2),ot=i(Y);a(Y),a(X),a(z);var H=f(z,2);J(H,23,()=>o(A),t=>t.title,(t,v,r)=>{const e=T(()=>o(v).icon);var d=xt(),y=i(d);tt(y,{class:"stat-card",children:(c,u)=>{var s=$t(),_=i(s),w=i(_);{var M=b=>{var V=I(),S=k(V);K(S,()=>o(e),(D,j)=>{j(D,{size:24})}),l(b,V)};G(w,b=>{o(e)&&b(M)})}a(_);var h=f(_,2),g=i(h),F=i(g,!0);a(g);var N=f(g,2),L=i(N,!0);a(N),a(h),a(s),R(()=>{ht(_,1,`stat-icon stat-icon-${o(v).color??""}`,"svelte-1tyszyy"),$(F,o(v).title),$(L,o(v).value)}),l(c,s)},$$slots:{default:!0}}),a(d),q(1,d,()=>pt,()=>({y:20,duration:300,delay:100+o(r)*50})),l(t,d)}),a(H);var U=f(H,2),Z=f(i(U),2);J(Z,21,()=>B,t=>t.href,(t,v)=>{const r=T(()=>o(v).icon);var e=bt(),d=i(e);{var y=s=>{var _=I(),w=k(_);K(w,()=>o(r),(M,h)=>{h(M,{size:20})}),l(s,_)};G(d,s=>{o(r)&&s(y)})}var c=f(d,2),u=i(c,!0);a(c),a(e),R(()=>{ut(e,"href",o(v).href),$(u,o(v).label)}),l(t,e)}),a(Z),a(U);var E=f(U,2),nt=i(E);tt(nt,{header:r=>{var e=Pt();l(r,e)},footer:r=>{var e=At(),d=i(e);zt(d,{variant:"ghost",size:"sm",children:(y,c)=>{mt();var u=ft("Ver todas las actividades");l(y,u)},$$slots:{default:!0}}),a(e),l(r,e)},children:(r,e)=>{var d=wt();J(d,23,()=>o(C),(y,c)=>y.type+"-"+c,(y,c)=>{const u=T(()=>o(c).icon);var s=Ct(),_=i(s),w=i(_);{var M=S=>{var D=I(),j=k(D);K(j,()=>o(u),(vt,ct)=>{ct(vt,{size:18})}),l(S,D)};G(w,S=>{o(u)&&S(M)})}a(_);var h=f(_,2),g=i(h),F=i(g,!0);a(g);var N=f(g,2),L=i(N,!0);a(N),a(h);var b=f(h,2),V=i(b,!0);a(b),a(s),R(()=>{$(F,o(c).title),$(L,o(c).description),$(V,o(c).time)}),l(y,s)}),a(d),l(r,d)},$$slots:{header:!0,footer:!0,default:!0}}),a(E),a(m),R(()=>{var t;return $(ot,`Bienvenido de vuelta, ${(((t=n.data.userProfile)==null?void 0:t.full_name)||"Usuario")??""}`)}),q(1,H,()=>O,()=>({duration:300,delay:100})),q(1,U,()=>O,()=>({duration:300,delay:300})),q(1,E,()=>O,()=>({duration:300,delay:400})),l(P,m),yt()}export{jt as component};
