import"../chunks/CWj6FrbW.js";import{a6 as S,a7 as v,a8 as w,N as h,a9 as N,a as f,aa as P,ab as T,f as A,Q as l,P as j,ae as u,T as c,a2 as g,ac as r}from"../chunks/DXalFYC5.js";import{g as p}from"../chunks/DboXdvGe.js";import{B as k}from"../chunks/ey38HHQe.js";import{C as z}from"../chunks/BujzgcLR.js";import{s as m}from"../chunks/ejPKeNiZ.js";import{A as B}from"../chunks/CNwQjRCr.js";var E=h("<!> Volver",1),O=h('<div class="page svelte-4sno3x"><div class="page-header svelte-4sno3x"><div class="svelte-4sno3x"><!> <h1 class="svelte-4sno3x">Nuevo Cliente</h1> <p class="svelte-4sno3x">Completa los datos para registrar un nuevo cliente</p></div></div> <!></div>');function G(y,x){S(x,!0);let t=v(!1),o=v(w({}));async function _(a){r(t,!0),r(o,{},!0);try{const s=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await s.json();s.ok?(m({type:"success",message:"Cliente creado exitosamente"}),p("/clientes")):(e.errors&&r(o,e.errors,!0),m({type:"error",message:e.message||"Error al crear cliente"}))}catch{m({type:"error",message:"Error al crear cliente"})}finally{r(t,!1)}}var n=O();N(a=>{T.title="Nuevo Cliente - PAS Manager"});var i=l(n),d=l(i),C=l(d);k(C,{variant:"ghost",size:"sm",onclick:()=>p("/clientes"),children:(a,s)=>{var e=E(),b=A(e);B(b,{size:18}),u(),f(a,e)},$$slots:{default:!0}}),u(4),c(d),c(i);var $=j(i,2);z($,{mode:"create",get loading(){return g(t)},get errors(){return g(o)},onSubmit:_,onCancel:()=>p("/clientes")}),c(n),f(y,n),P()}export{G as component};
