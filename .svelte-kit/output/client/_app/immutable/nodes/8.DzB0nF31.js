import"../chunks/CWj6FrbW.js";import{a7 as S,a8 as v,a9 as w,b as h,aa as A,a as f,ab as N,ac as P,f as T,d as l,U as j,af as u,r as c,a3 as g,ad as r}from"../chunks/BKJL6YfG.js";import{g as d}from"../chunks/EB3MSLgs.js";import{B as k}from"../chunks/PkYitcBM.js";import{C as z}from"../chunks/B5VaIDmY.js";import{s as p}from"../chunks/CqXjdqoA.js";import{A as B}from"../chunks/cKUVvFVp.js";var E=h("<!> Volver",1),O=h('<div class="page svelte-4sno3x"><div class="page-header svelte-4sno3x"><div class="svelte-4sno3x"><!> <h1 class="svelte-4sno3x">Nuevo Cliente</h1> <p class="svelte-4sno3x">Completa los datos para registrar un nuevo cliente</p></div></div> <!></div>');function G(y,x){S(x,!0);let t=v(!1),o=v(w({}));async function _(a){r(t,!0),r(o,{},!0);try{const s=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await s.json();s.ok?(p({type:"success",message:"Cliente creado exitosamente"}),d("/clientes")):(e.errors&&r(o,e.errors,!0),p({type:"error",message:e.message||"Error al crear cliente"}))}catch{p({type:"error",message:"Error al crear cliente"})}finally{r(t,!1)}}var n=O();A(a=>{P.title="Nuevo Cliente - PAS Manager"});var i=l(n),m=l(i),C=l(m);k(C,{variant:"ghost",size:"sm",onclick:()=>d("/clientes"),children:(a,s)=>{var e=E(),b=T(e);B(b,{size:18}),u(),f(a,e)},$$slots:{default:!0}}),u(4),c(m),c(i);var $=j(i,2);z($,{mode:"create",get loading(){return g(t)},get errors(){return g(o)},onSubmit:_,onCancel:()=>d("/clientes")}),c(n),f(y,n),N()}export{G as component};
