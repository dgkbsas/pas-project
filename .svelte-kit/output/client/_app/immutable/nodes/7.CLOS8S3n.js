import"../chunks/CWj6FrbW.js";import{a8 as K,aw as q,ax as J,b as g,ay as L,az as Q,a as p,a9 as R,aA as U,f as b,d as s,aa as e,A as i,aB as W,t as Y,av as D,g as t,aC as Z,ab as ee,aD as $}from"../chunks/T0dPp4D2.js";import{b as ae}from"../chunks/DmB7dAFv.js";import{g as I}from"../chunks/CdRlIqj1.js";import{B as S}from"../chunks/BpcvKk5C.js";import{I as f}from"../chunks/CCnm1ovl.js";import{C as z}from"../chunks/Ch5CQVJw.js";import{s as A}from"../chunks/C8FjytsP.js";import{A as re}from"../chunks/DTsacfhv.js";import{S as se}from"../chunks/CSXst1GK.js";var te=g("<!> Volver",1),oe=g('<div class="card-header svelte-4sno3x"><h2 class="svelte-4sno3x">Información Personal</h2></div> <div class="form-grid svelte-4sno3x"><div class="form-group full-width svelte-4sno3x"><label for="name" class="svelte-4sno3x">Nombre completo <span class="required svelte-4sno3x">*</span></label> <!></div> <div class="form-group svelte-4sno3x"><label for="email" class="svelte-4sno3x">Email</label> <!></div> <div class="form-group svelte-4sno3x"><label for="phone" class="svelte-4sno3x">Teléfono</label> <!></div> <div class="form-group svelte-4sno3x"><label for="id_number" class="svelte-4sno3x">DNI/NIE</label> <!></div></div>',1),le=g('<div class="card-header svelte-4sno3x"><h2 class="svelte-4sno3x">Dirección</h2></div> <div class="form-grid svelte-4sno3x"><div class="form-group full-width svelte-4sno3x"><label for="address" class="svelte-4sno3x">Dirección</label> <!></div> <div class="form-group svelte-4sno3x"><label for="city" class="svelte-4sno3x">Ciudad</label> <!></div> <div class="form-group svelte-4sno3x"><label for="postal_code" class="svelte-4sno3x">Código Postal</label> <!></div></div>',1),ne=g('<div class="card-header svelte-4sno3x"><h2 class="svelte-4sno3x">Notas adicionales</h2></div> <div class="form-group svelte-4sno3x"><label for="notes" class="svelte-4sno3x">Notas</label> <textarea id="notes" placeholder="Información adicional sobre el cliente..." rows="4" class="svelte-4sno3x"></textarea></div>',1),ie=g("<!> ",1),de=g('<div class="page svelte-4sno3x"><div class="page-header svelte-4sno3x"><div class="svelte-4sno3x"><!> <h1 class="svelte-4sno3x">Nuevo Cliente</h1> <p class="svelte-4sno3x">Completa los datos para registrar un nuevo cliente</p></div></div> <form class="svelte-4sno3x"><!> <!> <!> <div class="form-actions svelte-4sno3x"><!> <!></div></form></div>');function be(M,O){K(O,!0);let h=J(!1),r=q({name:"",email:"",phone:"",address:"",city:"",postal_code:"",id_number:"",notes:""}),d=J(q({}));async function V(o){o.preventDefault(),$(h,!0),$(d,{},!0);try{const v=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await v.json();v.ok?(A({type:"success",message:"Cliente creado exitosamente"}),I("/clientes")):(a.errors&&$(d,a.errors,!0),A({type:"error",message:a.message||"Error al crear cliente"}))}catch{A({type:"error",message:"Error al crear cliente"})}finally{$(h,!1)}}var y=de();L(o=>{U.title="Nuevo Cliente - PAS Manager"});var C=s(y),E=s(C),X=s(E);S(X,{variant:"ghost",size:"sm",onclick:()=>I("/clientes"),children:(o,v)=>{var a=te(),l=b(a);re(l,{size:18}),D(),p(o,a)},$$slots:{default:!0}}),D(4),t(E),t(C);var P=e(C,2),j=s(P);z(j,{children:(o,v)=>{var a=oe(),l=e(b(a),2),n=s(l),x=e(s(n),2);f(x,{id:"name",placeholder:"Ej: Juan Pérez García",get error(){return i(d).name},required:!0,get value(){return r.name},set value(m){r.name=m}}),t(n);var u=e(n,2),w=e(s(u),2);f(w,{id:"email",type:"email",placeholder:"ejemplo@email.com",get error(){return i(d).email},get value(){return r.email},set value(m){r.email=m}}),t(u);var _=e(u,2),N=e(s(_),2);f(N,{id:"phone",type:"tel",placeholder:"+34 612 345 678",get error(){return i(d).phone},get value(){return r.phone},set value(m){r.phone=m}}),t(_);var c=e(_,2),H=e(s(c),2);f(H,{id:"id_number",placeholder:"12345678X",get error(){return i(d).id_number},get value(){return r.id_number},set value(m){r.id_number=m}}),t(c),t(l),p(o,a)},$$slots:{default:!0}});var T=e(j,2);z(T,{children:(o,v)=>{var a=le(),l=e(b(a),2),n=s(l),x=e(s(n),2);f(x,{id:"address",placeholder:"Calle, número, piso...",get error(){return i(d).address},get value(){return r.address},set value(c){r.address=c}}),t(n);var u=e(n,2),w=e(s(u),2);f(w,{id:"city",placeholder:"Madrid",get error(){return i(d).city},get value(){return r.city},set value(c){r.city=c}}),t(u);var _=e(u,2),N=e(s(_),2);f(N,{id:"postal_code",placeholder:"28001",get error(){return i(d).postal_code},get value(){return r.postal_code},set value(c){r.postal_code=c}}),t(_),t(l),p(o,a)},$$slots:{default:!0}});var k=e(T,2);z(k,{children:(o,v)=>{var a=ne(),l=e(b(a),2),n=e(s(l),2);Z(n),t(l),ae(n,()=>r.notes,x=>r.notes=x),p(o,a)},$$slots:{default:!0}});var B=e(k,2),G=s(B);S(G,{type:"button",variant:"outline",onclick:()=>I("/clientes"),get disabled(){return i(h)},children:(o,v)=>{D();var a=W("Cancelar");p(o,a)},$$slots:{default:!0}});var F=e(G,2);S(F,{type:"submit",variant:"primary",get disabled(){return i(h)},children:(o,v)=>{var a=ie(),l=b(a);se(l,{size:18});var n=e(l);Y(()=>ee(n,` ${i(h)?"Guardando...":"Guardar Cliente"}`)),p(o,a)},$$slots:{default:!0}}),t(B),t(P),t(y),Q("submit",P,V),p(M,y),R()}export{be as component};
