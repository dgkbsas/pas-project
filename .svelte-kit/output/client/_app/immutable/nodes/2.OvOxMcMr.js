import"../chunks/CWj6FrbW.js";import{w as me,c as N,f as y,a as c,a6 as B,N as w,aa as G,T as s,Q as o,a2 as P,ad as X,P as f,ag as C,ah as U,af as te,aE as oe,bm as ne,O as ee,R as fe,ae as W,ac as ge,a7 as _e,o as pe,a9 as we}from"../chunks/DXalFYC5.js";import{l as q,s as D,p as T,a as ve,b as re}from"../chunks/BkTacmYQ.js";import{p as be}from"../chunks/MzzRNa-k.js";import{o as ye}from"../chunks/P-h-QmmT.js";import{i as L}from"../chunks/DgS_HarA.js";import{e as ke,s as se}from"../chunks/CCesXY4h.js";import{c as ze}from"../chunks/2cUHOQ7Q.js";import{s as ae}from"../chunks/CiAFSiaO.js";import"../chunks/D3fhBnoc.js";import{I as F,s as Q}from"../chunks/Wd1UXAwi.js";import{U as Pe}from"../chunks/BtQN14_f.js";import{F as ce}from"../chunks/B2p_ebVs.js";import{t as ie}from"../chunks/DE9Wwb4d.js";import{s as de}from"../chunks/ejPKeNiZ.js";import{t as xe,s as $e}from"../chunks/CXQWPrWa.js";import{b as Me}from"../chunks/BjGM86Mo.js";import{q as Ne}from"../chunks/iVSWiVfi.js";import{U as le}from"../chunks/DGbCUdBR.js";import{l as Se}from"../chunks/Cd8NlkRe.js";import{X as Oe}from"../chunks/C90WgwIi.js";function Ce(){const{subscribe:i,set:e,update:a}=me(!1);return{subscribe:i,open:()=>e(!0),close:()=>e(!1),toggle:()=>a(n=>!n)}}const Z=Ce();function Ee(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];F(i,D({name:"layout-dashboard"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ue(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];F(i,D({name:"log-out"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Te(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];F(i,D({name:"menu"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ae(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];F(i,D({name:"moon"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Le(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];F(i,D({name:"settings"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}function Ie(i,e){const a=q(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];F(i,D({name:"sun"},()=>a,{get iconNode(){return n},children:(d,u)=>{var t=N(),v=y(t);Q(v,e,"default",{}),c(d,t)},$$slots:{default:!0}}))}const je=[{name:"Dashboard",href:"/dashboard",icon:Ee},{name:"Clientes",href:"/clientes",icon:Pe},{name:"Pólizas",href:"/polizas",icon:ce}];var He=w('<span style="width: 20px; height: 20px; display: inline-block;" class="svelte-1mok3ed"></span>'),qe=w('<a><!> <span class="svelte-1mok3ed"> </span></a>'),De=w('<nav class="sidebar-nav svelte-1mok3ed"></nav>');function ue(i,e){B(e,!0);var a=De();ke(a,21,()=>je,n=>n.href,(n,d)=>{const u=X(()=>P(d).icon);var t=qe();let v;var p=o(t);{var m=h=>{var l=N(),r=y(l);ze(r,()=>P(u),(_,z)=>{z(_,{size:20})}),c(h,l)},g=h=>{var l=He();c(h,l)};L(p,h=>{P(u)?h(m):h(g,!1)})}var b=f(p,2),k=o(b,!0);s(b),s(t),C(h=>{se(t,"href",P(d).href),v=ae(t,1,"nav-item svelte-1mok3ed",null,v,h),U(k,P(d).name)},[()=>({active:e.currentPath.startsWith(P(d).href)})]),c(n,t)}),s(a),c(i,a),G()}function Fe(i,e){e(!e())}var Qe=w("<div><!></div>"),Re=w('<div><button type="button" class="dropdown-trigger svelte-x6k6te" aria-haspopup="true"><!></button> <!></div>');function Ve(i,e){B(e,!0);let a=T(e,"open",15,!1),n=T(e,"align",3,"right"),d=T(e,"position",3,"bottom"),u=T(e,"class",3,""),t;function v(r){a()&&t&&!t.contains(r.target)&&a(!1)}function p(r){r.key==="Escape"&&a()&&a(!1)}var m=Re();oe("click",ne,v),oe("keydown",ne,p);var g=o(m);g.__click=[Fe,a];var b=o(g);{var k=r=>{var _=N(),z=y(_);ee(z,()=>e.trigger),c(r,_)};L(b,r=>{e.trigger&&r(k)})}s(g);var h=f(g,2);{var l=r=>{var _=Qe(),z=o(_);ee(z,()=>e.children??fe),s(_),C(()=>ae(_,1,`dropdown-menu dropdown-menu-${n()??""} dropdown-menu-${d()??""}`,"svelte-x6k6te")),xe(3,_,()=>$e,()=>({duration:150,easing:Ne,start:.95,opacity:0})),c(r,_)};L(h,r=>{a()&&r(l)})}s(m),Me(m,r=>t=r,()=>t),C(()=>{ae(m,1,`dropdown ${u()??""}`,"svelte-x6k6te"),se(g,"aria-expanded",a())}),c(i,m),G()}te(["click"]);async function We(){try{const i=await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),e=await i.json();if(i.ok&&e.success)de({type:"success",message:"Sesión cerrada exitosamente"}),window.location.href="/auth/login";else throw new Error(e.message||"Error al cerrar sesión")}catch(i){console.error("Error en logout:",i),de({type:"error",message:"Error al cerrar sesión"}),window.location.href="/auth/login"}}var Xe=w('<div class="sidebar-user-trigger svelte-6rwk47"><div class="user-avatar svelte-6rwk47"><!></div> <div class="user-details svelte-6rwk47"><div class="user-name svelte-6rwk47"> </div> <div class="user-role svelte-6rwk47"> </div></div></div>'),Be=w('<div class="user-menu-trigger svelte-6rwk47"><div class="user-avatar svelte-6rwk47"><!></div> <span class="user-menu-name svelte-6rwk47"> </span></div>'),Ge=w("<!> Modo Claro",1),Je=w("<!> Modo Oscuro",1),Ke=w('<div class="dropdown-header svelte-6rwk47"><div class="dropdown-user-name svelte-6rwk47"> </div> <div class="dropdown-user-email svelte-6rwk47"> </div> <div class="dropdown-user-role svelte-6rwk47"> </div></div> <div class="dropdown-divider svelte-6rwk47"></div> <button class="dropdown-item svelte-6rwk47"><!></button> <div class="dropdown-divider svelte-6rwk47"></div> <a href="/configuracion" class="dropdown-item svelte-6rwk47"><!> Configuración</a> <div class="dropdown-divider svelte-6rwk47"></div> <button class="dropdown-item svelte-6rwk47" data-danger="true"><!> Cerrar Sesión</button>',1);function he(i,e){B(e,!0);const a=()=>re(ie,"$theme",n),[n,d]=ve();let u=T(e,"variant",3,"sidebar"),t=T(e,"dropdownPosition",3,"bottom"),v=T(e,"dropdownAlign",3,"right");function p(){ie.update(g=>g==="light"?"dark":"light")}const m=X(a);{const g=h=>{var l=N(),r=y(l);{var _=x=>{var S=Xe(),$=o(S),R=o($);le(R,{size:20}),s($);var M=f($,2),A=o(M),I=o(A,!0);s(A);var J=f(A,2),V=o(J,!0);s(J),s(M),s(S),C(()=>{var K,j,Y;U(I,((K=e.userProfile)==null?void 0:K.full_name)||((j=e.user)==null?void 0:j.email)),U(V,((Y=e.userProfile)==null?void 0:Y.role)||"Usuario")}),c(x,S)},z=x=>{var S=Be(),$=o(S),R=o($);le(R,{size:18}),s($);var M=f($,2),A=o(M,!0);s(M),s(S),C(()=>{var I;return U(A,((I=e.userProfile)==null?void 0:I.full_name)||"Usuario")}),c(x,S)};L(r,x=>{u()==="sidebar"?x(_):x(z,!1)})}c(h,l)},b=h=>{var l=Ke(),r=y(l),_=o(r),z=o(_,!0);s(_);var x=f(_,2),S=o(x,!0);s(x);var $=f(x,2),R=o($,!0);s($),s(r);var M=f(r,4);M.__click=p;var A=o(M);{var I=O=>{var E=Ge(),H=y(E);Ie(H,{size:16}),W(),c(O,E)},J=O=>{var E=Je(),H=y(E);Ae(H,{size:16}),W(),c(O,E)};L(A,O=>{P(m)==="dark"?O(I):O(J,!1)})}s(M);var V=f(M,4),K=o(V);Le(K,{size:16}),W(),s(V);var j=f(V,4);j.__click=[We];var Y=o(j);Ue(Y,{size:16}),W(),s(j),C(()=>{var O,E,H;U(z,((O=e.userProfile)==null?void 0:O.full_name)||"Usuario"),U(S,(E=e.user)==null?void 0:E.email),U(R,((H=e.userProfile)==null?void 0:H.role)||"Usuario")}),c(h,l)};let k=X(()=>u()==="sidebar"?"sidebar-user-dropdown":"");Ve(i,{get align(){return v()},get position(){return t()},get class(){return P(k)},trigger:g,children:b,$$slots:{trigger:!0,default:!0}})}G(),d()}te(["click"]);var Ye=w('<span class="company-name svelte-6dohdz"> </span>'),Ze=w('<aside class="sidebar svelte-6dohdz"><div class="sidebar-header svelte-6dohdz"><div class="logo svelte-6dohdz"><img alt="Logo" height="24" class="svelte-6dohdz"/> <div class="logo-text svelte-6dohdz"><span class="app-name svelte-6dohdz">PAS Manager</span> <!></div></div></div> <!> <div class="sidebar-footer svelte-6dohdz"><!></div></aside>');function ea(i,e){B(e,!0);let a=_e("");ye(async()=>{var h;try{const l=await fetch("/api/company");if(l.ok){const r=await l.json();ge(a,((h=r.company)==null?void 0:h.name)||"",!0)}}catch(l){console.error("Error fetching company name:",l)}});var n=Ze(),d=o(n),u=o(d),t=o(u),v=f(t,2),p=f(o(v),2);{var m=h=>{var l=Ye(),r=o(l,!0);s(l),C(()=>U(r,P(a))),c(h,l)};L(p,h=>{P(a)&&h(m)})}s(v),s(u),s(d);var g=f(d,2);ue(g,{get currentPath(){return e.currentPath}});var b=f(g,2),k=o(b);he(k,{get user(){return e.user},get userProfile(){return e.userProfile},variant:"sidebar",dropdownPosition:"top",dropdownAlign:"left"}),s(b),s(n),C(()=>se(t,"src",Se)),c(i,n),G()}var aa=w('<button class="sidebar-overlay svelte-dsssid" aria-label="Close sidebar"></button>'),ta=w('<!> <aside><div class="sidebar-header svelte-dsssid"><div class="logo svelte-dsssid"><!> <span class="svelte-dsssid">PAS Manager</span></div> <button class="close-button svelte-dsssid"><!></button></div> <!></aside>',1);function ra(i,e){let a=T(e,"isOpen",3,!1);var n=ta(),d=y(n);{var u=l=>{var r=aa();r.__click=function(..._){var z;(z=e.onClose)==null||z.apply(this,_)},c(l,r)};L(d,l=>{a()&&l(u)})}var t=f(d,2);let v;var p=o(t),m=o(p),g=o(m);ce(g,{size:32}),W(2),s(m);var b=f(m,2);b.__click=function(...l){var r;(r=e.onClose)==null||r.apply(this,l)};var k=o(b);Oe(k,{size:24}),s(b),s(p);var h=f(p,2);ue(h,{get currentPath(){return e.currentPath}}),s(t),C(l=>v=ae(t,1,"sidebar-mobile svelte-dsssid",null,v,l),[()=>({open:a()})]),c(i,n)}te(["click"]);var sa=w('<header class="header svelte-hv3zzy"><button class="menu-button svelte-hv3zzy"><!></button> <div class="header-actions svelte-hv3zzy"><div class="header-user-menu svelte-hv3zzy"><!></div></div></header>');function oa(i,e){var a=sa(),n=o(a);n.__click=function(...p){var m;(m=e.onToggleSidebar)==null||m.apply(this,p)};var d=o(n);Te(d,{size:24}),s(n);var u=f(n,2),t=o(u),v=o(t);he(v,{get user(){return e.user},get userProfile(){return e.userProfile},variant:"header"}),s(t),s(u),s(a),c(i,a)}te(["click"]);var na=w(`<style class="svelte-1rlssa4">.dropdown {
      z-index: calc(var(--z-fixed) + 10) !important;
    }</style>`),ia=w('<div class="app-layout svelte-1rlssa4"><!> <!> <div class="main-content svelte-1rlssa4"><!> <main class="content svelte-1rlssa4"><div class="content-wrapper svelte-1rlssa4"><!></div></main></div></div>');function da(i,e){B(e,!0);const a=()=>re(be,"$page",d),n=()=>re(Z,"$sidebarOpen",d),[d,u]=ve();pe(()=>{a().url.pathname,Z.close()});var t=ia();we(l=>{var r=na();c(l,r)});var v=o(t);{let l=X(()=>{var r;return(r=e.data.session)==null?void 0:r.user});ea(v,{get currentPath(){return a().url.pathname},get user(){return P(l)},get userProfile(){return e.data.userProfile}})}var p=f(v,2);ra(p,{get isOpen(){return n()},get currentPath(){return a().url.pathname},get onClose(){return Z.close}});var m=f(p,2),g=o(m);{let l=X(()=>{var r;return(r=e.data.session)==null?void 0:r.user});oa(g,{get user(){return P(l)},get userProfile(){return e.data.userProfile},get onToggleSidebar(){return Z.toggle}})}var b=f(g,2),k=o(b),h=o(k);ee(h,()=>e.children),s(k),s(b),s(m),s(t),c(i,t),G(),u()}function Oa(i,e){da(i,{get data(){return e.data},children:(a,n)=>{var d=N(),u=y(d);ee(u,()=>e.children),c(a,d)},$$slots:{default:!0}})}export{Oa as component};
