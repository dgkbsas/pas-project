import"../chunks/CWj6FrbW.js";import{c as ve,f as S,a as l,ag as Fe,a7 as Ve,b as r,aa as Re,t as p,ab as We,d as a,U as t,ac as Le,af as L,r as e,ad as fe,a3 as b,a8 as ye,ah as m,ae as ke,ak as Oe}from"../chunks/BKJL6YfG.js";import{i as q}from"../chunks/CX_YFbLR.js";import{s as je,r as Ge,e as He,i as Je}from"../chunks/BpKyf_Cv.js";import{a as Ke}from"../chunks/DFnROSPn.js";import{g as Y}from"../chunks/EB3MSLgs.js";import{B as me}from"../chunks/PkYitcBM.js";import{C as ie}from"../chunks/Dltoj_Hs.js";import{B as Qe}from"../chunks/D97hAcun.js";import{T as Xe}from"../chunks/Bp8v5BVC.js";import{T as Ye}from"../chunks/DJ5sZ6zs.js";import{E as we}from"../chunks/BgyM9Zwg.js";import{P as Ce,i as Ze,M as $e,g as ea}from"../chunks/DWsJeb9N.js";import{A as aa}from"../chunks/cKUVvFVp.js";import{S as ta}from"../chunks/oTZo_vNk.js";import{M as Se}from"../chunks/DsH18pMd.js";import{F as X}from"../chunks/Cb1H4-Fo.js";import{C as Ae}from"../chunks/DsZoCF9s.js";import"../chunks/DOky0DoK.js";import{I as sa,s as ia}from"../chunks/Cv8LfVAm.js";import{l as va,s as la}from"../chunks/B-WhYZDZ.js";import{P as ra}from"../chunks/CMz8jQQe.js";function da(Z,s){const M=va(s,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.545.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const D=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];sa(Z,la({name:"map-pin"},()=>M,{get iconNode(){return D},children:($,ue)=>{var O=ve(),le=S(O);ia(le,s,"default",{}),l($,O)},$$slots:{default:!0}}))}var na=r("<!> Volver",1),oa=r("<!> Editar Cliente",1),ca=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Email Principal</div> <div class="value svelte-q8hs85"> </div></div></div>'),_a=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Email Secundario</div> <div class="value svelte-q8hs85"> </div></div></div>'),ha=r('<a target="_blank" rel="noopener noreferrer" class="whatsapp-btn svelte-q8hs85" title="Abrir en WhatsApp"><!></a>'),fa=r('<div class="info-item svelte-q8hs85"><!> <div class="phone-content svelte-q8hs85"><div class="label svelte-q8hs85">Celular</div> <div class="value phone-with-whatsapp svelte-q8hs85"><span class="svelte-q8hs85"> </span> <!></div></div></div>'),ma=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Teléfono</div> <div class="value svelte-q8hs85"> </div></div></div>'),ua=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">DNI/CUIT</div> <div class="value svelte-q8hs85"> </div></div></div>'),qa=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Fecha de Nacimiento</div> <div class="value svelte-q8hs85"> </div></div></div>'),ba=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Datos Personales</h2></div> <div class="info-list svelte-q8hs85"><!> <!> <div class="info-row svelte-q8hs85"><!> <!></div> <!> <!></div>',1),ga=r('<div class="svelte-q8hs85"> </div>'),pa=r('<div class="svelte-q8hs85"> </div>'),xa=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Ubicación</div> <div class="value svelte-q8hs85"><!> <!></div></div></div>'),za=r('<div class="empty-info svelte-q8hs85">No hay dirección registrada</div>'),Pa=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Dirección</h2></div> <div class="info-list svelte-q8hs85"><!></div>',1),ya=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Alias PAS</div> <div class="value svelte-q8hs85"> </div></div></div>'),ka=r('<div class="info-item svelte-q8hs85"><!> <div class="svelte-q8hs85"><div class="label svelte-q8hs85">Referido Por</div> <div class="value svelte-q8hs85"> </div></div></div>'),wa=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Información Adicional</h2></div> <div class="info-list svelte-q8hs85"><!> <!></div>',1),Ca=r('<div class="card-header svelte-q8hs85"><h2 class="svelte-q8hs85">Observaciones</h2></div> <p class="notes svelte-q8hs85"> </p>',1),Sa=r('<div class="info-grid svelte-q8hs85"><!> <!> <!> <!></div>'),Aa=r("<!> Nueva Póliza",1),Ea=(Z,s)=>Y(`/polizas/${b(s).id}/editar`),Ta=r('<tr class="clickable-row svelte-q8hs85"><td class="svelte-q8hs85"><span class="policy-number svelte-q8hs85"> </span></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><!></td><td class="svelte-q8hs85"> </td><td class="svelte-q8hs85"><div class="date-cell svelte-q8hs85"><!> </div></td></tr>'),Ia=r('<thead class="svelte-q8hs85"><tr class="svelte-q8hs85"><th class="svelte-q8hs85">N° Póliza</th><th class="svelte-q8hs85">Tipo</th><th class="svelte-q8hs85">Aseguradora</th><th class="svelte-q8hs85">Estado</th><th class="svelte-q8hs85">Prima</th><th class="svelte-q8hs85">Vencimiento</th></tr></thead> <tbody class="svelte-q8hs85"></tbody>',1),Ma=r('<div class="policies-section svelte-q8hs85"><div class="policies-header svelte-q8hs85"><div class="svelte-q8hs85"><h2 class="svelte-q8hs85">Pólizas del Cliente</h2> <label class="checkbox-label svelte-q8hs85"><input type="checkbox" class="svelte-q8hs85"/> <span class="svelte-q8hs85">Mostrar inactivas</span></label></div> <!></div> <!></div>'),Na=r('<div class="page svelte-q8hs85"><div class="page-header svelte-q8hs85"><div class="svelte-q8hs85"><!> <h1 class="svelte-q8hs85"> </h1> <p class="svelte-q8hs85">Información detallada del cliente</p></div> <!></div> <!></div>');function st(Z,s){Ve(s,!0);let M=ye("info"),D=ye(!1);const $=ke(()=>b(D)?s.data.policies:s.data.policies.filter(_=>_.active!==!1)),ue=[{id:"info",label:"Información"},{id:"policies",label:`Pólizas (${s.data.policies.length})`}];function O(_){return new Date(_).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}function le(_){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(_)}function Ee(_){const ee={active:"success",cancelled:"error",expired:"warning"},A={active:"Activa",cancelled:"Cancelada",expired:"Vencida"};return{variant:ee[_]||"default",label:A[_]||_}}var re=Na();Re(_=>{p(()=>Le.title=`${s.data.client.first_name??""} ${s.data.client.last_name??""} - PAS Manager`)});var de=a(re),ne=a(de),qe=a(ne);me(qe,{variant:"ghost",size:"sm",onclick:()=>Y("/clientes"),children:(_,ee)=>{var A=na(),j=S(A);aa(j,{size:18}),L(),l(_,A)},$$slots:{default:!0}});var be=t(qe,2),Te=a(be);e(be),L(2),e(ne);var Ie=t(ne,2);me(Ie,{variant:"primary",onclick:()=>Y(`/clientes/${s.data.client.id}/editar`),children:(_,ee)=>{var A=oa(),j=S(A);ta(j,{size:18}),L(),l(_,A)},$$slots:{default:!0}}),e(de);var Me=t(de,2);Xe(Me,{get tabs(){return ue},get activeTab(){return b(M)},set activeTab(_){fe(M,_,!0)},$$events:{change:_=>fe(M,_.detail,!0)},children:(_,ee)=>{var A=ve(),j=S(A);{var Ne=U=>{var F=Sa(),ae=a(F);ie(ae,{children:(z,N)=>{var y=ba(),P=t(S(y),2),k=a(P);{var T=v=>{var i=ca(),h=a(i);Se(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c,!0);e(c),e(d),e(i),p(()=>m(g,s.data.client.email_primary)),l(v,i)};q(k,v=>{s.data.client.email_primary&&v(T)})}var I=t(k,2);{var n=v=>{var i=_a(),h=a(i);Se(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c,!0);e(c),e(d),e(i),p(()=>m(g,s.data.client.email_secondary)),l(v,i)};q(I,v=>{s.data.client.email_secondary&&v(n)})}var o=t(I,2),f=a(o);{var x=v=>{var i=fa(),h=a(i);Ce(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c),J=a(g,!0);e(g);var K=t(g,2);{var oe=B=>{var W=ha(),Q=a(W);$e(Q,{size:16}),e(W),p(ce=>je(W,"href",ce),[()=>ea(s.data.client.phone)]),l(B,W)};q(K,B=>{Ze(s.data.client.phone)&&B(oe)})}e(c),e(d),e(i),p(()=>m(J,s.data.client.phone)),l(v,i)};q(f,v=>{s.data.client.phone&&v(x)})}var w=t(f,2);{var u=v=>{var i=ma(),h=a(i);Ce(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c,!0);e(c),e(d),e(i),p(()=>m(g,s.data.client.phone_landline)),l(v,i)};q(w,v=>{s.data.client.phone_landline&&v(u)})}e(o);var E=t(o,2);{var se=v=>{var i=ua(),h=a(i);X(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c,!0);e(c),e(d),e(i),p(()=>m(g,s.data.client.document_number)),l(v,i)};q(E,v=>{s.data.client.document_number&&v(se)})}var R=t(E,2);{var C=v=>{var i=qa(),h=a(i);Ae(h,{size:18});var d=t(h,2),c=t(a(d),2),g=a(c,!0);e(c),e(d),e(i),p(J=>m(g,J),[()=>O(s.data.client.birth_date)]),l(v,i)};q(R,v=>{s.data.client.birth_date&&v(C)})}e(P),l(z,y)},$$slots:{default:!0}});var te=t(ae,2);ie(te,{children:(z,N)=>{var y=Pa(),P=t(S(y),2),k=a(P);{var T=n=>{var o=xa(),f=a(o);da(f,{size:18});var x=t(f,2),w=t(a(x),2),u=a(w);{var E=C=>{var v=ga(),i=a(v,!0);e(v),p(()=>m(i,s.data.client.address)),l(C,v)};q(u,C=>{s.data.client.address&&C(E)})}var se=t(u,2);{var R=C=>{var v=pa(),i=a(v);e(v),p(()=>m(i,`${(s.data.client.postal_code||"")??""}
                        ${(s.data.client.city||"")??""}`)),l(C,v)};q(se,C=>{(s.data.client.city||s.data.client.postal_code)&&C(R)})}e(w),e(x),e(o),l(n,o)},I=n=>{var o=za();l(n,o)};q(k,n=>{s.data.client.address||s.data.client.city||s.data.client.postal_code?n(T):n(I,!1)})}e(P),l(z,y)},$$slots:{default:!0}});var V=t(te,2);ie(V,{class:"full-width",children:(z,N)=>{var y=wa(),P=t(S(y),2),k=a(P);{var T=o=>{var f=ya(),x=a(f);X(x,{size:18});var w=t(x,2),u=t(a(w),2),E=a(u,!0);e(u),e(w),e(f),p(()=>m(E,s.data.client.alias_pas)),l(o,f)};q(k,o=>{s.data.client.alias_pas&&o(T)})}var I=t(k,2);{var n=o=>{var f=ka(),x=a(f);X(x,{size:18});var w=t(x,2),u=t(a(w),2),E=a(u,!0);e(u),e(w),e(f),p(()=>m(E,s.data.client.referred_by)),l(o,f)};q(I,o=>{s.data.client.referred_by&&o(n)})}e(P),l(z,y)},$$slots:{default:!0}});var G=t(V,2);{var H=z=>{ie(z,{class:"full-width",children:(N,y)=>{var P=Ca(),k=t(S(P),2),T=a(k,!0);e(k),p(()=>m(T,s.data.client.observations)),l(N,P)},$$slots:{default:!0}})};q(G,z=>{s.data.client.observations&&z(H)})}e(F),l(U,F)},Be=U=>{var F=ve(),ae=S(F);{var te=V=>{var G=Ma(),H=a(G),z=a(H),N=t(a(z),2),y=a(N);Ge(y),L(2),e(N),e(z);var P=t(z,2);me(P,{variant:"primary",size:"sm",onclick:()=>Y(`/polizas/nuevo?client_id=${s.data.client.id}`),children:(n,o)=>{var f=Aa(),x=S(f);ra(x,{size:16}),L(),l(n,f)},$$slots:{default:!0}}),e(H);var k=t(H,2);{var T=n=>{we(n,{get icon(){return X},title:"Sin pólizas activas",description:"Este cliente no tiene pólizas activas"})},I=n=>{var o=ve(),f=S(o);{var x=u=>{we(u,{get icon(){return X},title:"Sin pólizas",description:"Este cliente no tiene pólizas registradas",action:{label:"Crear Póliza",onclick:()=>Y("/polizas/nuevo")}})},w=u=>{Ye(u,{children:(E,se)=>{var R=Ia(),C=t(S(R),2);He(C,21,()=>b($),Je,(v,i)=>{const h=ke(()=>Ee(b(i).status));var d=Ta();d.__click=[Ea,i];var c=a(d),g=a(c),J=a(g,!0);e(g),e(c);var K=t(c),oe=a(K,!0);e(K);var B=t(K),W=a(B,!0);e(B);var Q=t(B),ce=a(Q);Qe(ce,{get variant(){return b(h).variant},children:(he,ze)=>{L();var Pe=Oe();p(()=>m(Pe,b(h).label)),l(he,Pe)},$$slots:{default:!0}}),e(Q);var _e=t(Q),De=a(_e,!0);e(_e);var ge=t(_e),pe=a(ge),xe=a(pe);Ae(xe,{size:14});var Ue=t(xe);e(pe),e(ge),e(d),p((he,ze)=>{m(J,b(i).policy_number),m(oe,b(i).policy_type),m(W,b(i).insurer),m(De,he),m(Ue,` ${ze??""}`)},[()=>le(b(i).premium),()=>O(b(i).end_date)]),l(v,d)}),e(C),l(E,R)},$$slots:{default:!0}})};q(f,u=>{s.data.policies.length===0?u(x):u(w,!1)},!0)}l(n,o)};q(k,n=>{b($).length===0&&!b(D)?n(T):n(I,!1)})}e(G),Ke(y,()=>b(D),n=>fe(D,n)),l(V,G)};q(ae,V=>{b(M)==="policies"&&V(te)},!0)}l(U,F)};q(j,U=>{b(M)==="info"?U(Ne):U(Be,!1)})}l(_,A)},$$slots:{default:!0}}),e(re),p(()=>m(Te,`${s.data.client.first_name??""} ${s.data.client.last_name??""}`)),l(Z,re),We()}Fe(["click"]);export{st as component};
